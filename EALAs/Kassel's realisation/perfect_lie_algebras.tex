\section{Some generalities on Lie algebras}
    \begin{convention}
        A very common notation that we will be liberally employing is that:
            $$\ad(x) := [x, -]$$
        for $x$ being an element of some Lie algebra $\a$ with bracket $[-, -]$. 

        Another common notation in the context of Lie algebras (over a fixed field) is $\gl(V)$, which is the Lie algebra of endomorphisms on a vector space $V$, with Lie bracket given by commutators.

        A particularly common representation of a Lie algebra $\a$ is the \textbf{adjoint representation}, which we will be denoting by:
            $$\ad: \a \to \gl(\a)$$
        and is given by $x \mapsto \ad(x)$.
    \end{convention}

    \subsection{Structure of finite-dimensional simple Lie algebras} \label{subsection: finite_dimensional_simple_lie_algebras}
        As a precursor to our main discussion, let us recall some features of the theory of finite-dimensional simple Lie algebras, particularly about their structure.

        We will be working over $\bbC$, though this can be replaced by any algebraically closed field of characteristic $0$. The fact that $\bbC$ is algebraically closed is needed so that we will have enough eigenvalues and hence, certain operators will be diagonalisable. The second fact, that $\chara \bbC = 0$, is made so that we can avoid having certain relations, e.g. as in theorem \ref{theorem: serre_theorem_for_finite_dimensional_simple_lie_algebras}, vanish.

        \begin{definition}[Simple Lie algebras]
            A Lie algebra is said to be \textbf{simple} if and only if it admits no non-zero Lie ideals. 
        \end{definition}

        Over a field $\bbC$, much is known about the structure of a simple Lie algebra $\g$ that is finite-dimensional when regarded as a $\bbC$-vector space. The bulk of the content presented above is discussed in further details in any standard textbook on Lie algebras (cf. e.g. \cite{humphreys_lie_algebras} or the first half of \cite{carter_affine_lie_algebras}). Let us give a very brief recap of this theory. Also, let us fix once and for all such a finite-dimensional simple Lie algebra:
            $$\g$$

        One begins this process by choosing a \textbf{Cartan subalgebra} $\h$ for $\g$, which is a maximal abelian Lie subalgebra $\h$\footnote{We note also that, it is well-known that all Cartan subalgebras of $\g$ are conjugate to one another.}, whose elements are diagonalisable under the adjoint representation $\ad: \g \to \gl(\g)$. Now, let $V$ be a $\g$-module. Then, one can abstractly define the vector subspace of $V$ consisting of elements of \textbf{weight} $\mu \in \h^*$ to be:
            $$V_{\mu} := \{v \in V \mid \forall h \in \h: h \cdot v = \mu(h) v\}$$
        If we have a direct sum decomposition of $\h$-module:
            $$V \cong \bigoplus_{\mu \in \h^*} V_{\mu}$$
        then we will say that $V$ is a \textbf{weight module} for $\g$. Interestingly, elements of $\g_{\alpha}$ (with $\g$ acting on itself by the adjoint action) act by raising/lowering the weights of elements of $\g$-modules $V$ in the sense that:
            $$\g_{\alpha} \cdot V_{\mu} \subseteq V_{\mu + \alpha}$$
        for all weights $\alpha, \mu \in \h^*$. 
        
        As it turns out, when $\g$ is a weight module over itself via the adjoint representation. This particular weight space decomposition is usually referred to as the \textbf{root space decomposition} of $\g$. 
        \begin{theorem}[Root space decomposition for finite-dimensional simple Lie algebras] \label{theorem: root_space_decomposition_for_finite_dimensional_simple_lie_algebras}
            Let $\g$ be a module over itself via the adjoint representation.
            \begin{enumerate}
                \item $\g$ is a weight module over itself.
                \item The weight space $\g_0$ is nothing but the Cartan subalgebra $\h$.
                \item For each non-zero weight $\alpha$ of this $\g$-module, $\dim_{\bbC} \g_{\alpha} = 1$.
            \end{enumerate}
        \end{theorem}
        Typically, the non-zero weights $\alpha$ of the adjoint representations of $\g$ such that $\g_{\alpha} \not \cong 0$ are called \textbf{roots}, and the subset of $\h^*$ consisting of such roots is denoted by:
            $$\Phi$$
        It is then possible to \textit{(non-canonically) choose} a partition of $\Phi$ into two disjoint subsets $\Phi^{\pm}$, consisting of \textbf{positive} and \textbf{negative} roots respectively. There are various ways of doing so, but for our purposes, we find it \textit{convenient} to make use of invariant and non-deegenerate bilinear forms on $\g$ as ultimately, we will be very often concerned with how such bilinear forms pair elements of $\Phi$ together\footnote{Strictly speaking, this sentence does not make sense yet, since $\Phi \subset \h^* \subset \g^*$, while the bilinear forms mentioned are on $\g$. We shall elaborate shortly.}. Before moving on, however, let us note that for any root $\alpha \in \Phi$, we have that:
            $$[\g_{-\alpha}, \g_{\alpha}] \subset \h$$
        Let us also observe that:
            $$\g = [\g, \g]$$
        which is true per the assumption that $\g$ is simple, and implies that any element $h \in \h$ arises as $h = [x, y]$ for some $x \in \g_{-\alpha}, y \in \g_{\alpha}$ (for some $\alpha \in \Phi$). Together with the fact that $\h$ is finite-dimensional, meaning that $\h \cong \h^*$, these facts imply that the vector space $\h^*$ is generated by the set $\Phi$.

        The \textbf{root lattice} of $\g$ is the $\Z$-module generated by the ($\Z$-linearly \textit{depedent}) set $\Phi$:
            $$Q := \Z \Phi$$
        and in light of the root space decomposition of $\g$, one sees that $\g$ is graded by the $\Z$-module $Q$. Let us also note that because $\Phi$ generated $\h^*$, the $\Z$-module $Q$ is actually a lattice inside $\h^*$, in the sense that:
            $$Q \tensor_{\Z} \bbC \cong \h^*$$
        thus justifying the terminology \say{root lattice}.

        Now, as eluded to above, one of the most important features of $\g$ is that it posses an invariant and non-degenerate $\bbC$-bilinear form:
            $$(-, -)_{\g}$$
        which is unique up to $\bbC^{\x}$-multiples. The canonical choice is the so-called Killing form, given by $\kappa(x, y) := \trace(\ad(x) \circ \ad(y))$ for all $x, y \in \g$, but in various other context, other natural choices such as the more general trace form $\trace(\rho(x) \rho(y))$ (associated to some representation $\rho: \g \to \gl(V)$; one recovers $\kappa$ by taking $\rho := \ad$) are also very useful. What is important to us is that the Killing form is essentially unique: if $\kappa'$ is any invariant and non-degenerate symmetric $\bbC$-bilinear form on $\g$ then there will exist a \textit{unique} $c \in \bbC^{\x}$ such that $\kappa' = c \kappa$.

        Now, such a bilinear form $(-, -)_{\g}$ helps us associate to $\g$ a \say{root system} (to be defined shortly), and the upshot is that these \say{roots systems} classify finite-dimensional simple Lie algebras (over algebraically closed fields of characteristic $0$) up to isomorphisms; again, we remark that root systems can be constructed in the absence of such a bilinear form, but we find it more convenient to make use of $(-, -)_{\g}$. A choice of \textbf{simple roots}:
            $$\{\alpha_i\}_{i \in \simpleroots}$$
        can then be made: this is to be a basis for the $\Z$-module $Q$ (cf. \cite[Subsection 10.1, p. 47]{humphreys_lie_algebras}) - and hence a basis for the vector space $\h^*$ - such that any root $\alpha \in \Phi$ of the form:
            $$\alpha = \sum_{i \in \simpleroots} m_i \alpha_i \in \Z\{\alpha_i\}_{i \in \simpleroots}$$
        where the coefficients $m_i \in \Z$ are (exclusively) either non-negative or non-positive. The sets:
            $$\Phi^{\pm} := \Phi \cap \pm \Z_{\geq 0} \{\alpha_i\}_{i \in \simpleroots}$$
        shall be referred to, respectively, as the sets of \textbf{positive} and \textbf{negative} roots. Elements of $Q^+ := \Z_{\geq 0} \{\alpha_i\}_{i \in \hat{\simpleroots}}$ are typically regarded as being \textbf{positive} (and in particular, the simple roots are positive by convention) and conversely, elements of $Q^- := \Z_{\leq 0} \{\alpha_i\}_{i \in \hat{\simpleroots}}$ are typically said to be \textbf{negative}. One can also easily show that $\Phi^{\pm} = \Phi \cap Q^{\pm}$. 

        Given an element:
            $$\mu := \sum_{i \in \simpleroots} m_i \alpha_i \in Q$$
        we define its \textbf{height} to be the sum of the coefficients:
            $$\height \mu := \sum_{i \in \simpleroots} m_i$$
        $Q$ is therefore partially ordered by heights. 
        
        The \textbf{Cartan matrix} of $\g$ can then be defined to be:
            $$C := (c_{ij})_{i, j \in \simpleroots} := \left( \frac{2(\alpha_i, \alpha_j)_{\g}}{(\alpha_i, \alpha_i)_{\g}} \right)_{i, j \in \simpleroots}$$
        It can be shown that $C$ can be symmetrised, in the sense that there exists an invertible diagonal matrix:
            $$D := (d_{ij})_{i, j \in \simpleroots} = \left(\frac{2\delta_{i, j}}{(\alpha_i, \alpha_j)_{\g}}\right)_{i, j \in \simpleroots}$$
        and a symmetric matrix:
            $$A := (a_{ij})_{i, j \in \simpleroots} = \left((\alpha_i, \alpha_j)_{\g}\right)_{i, j \in \simpleroots}$$
        (which is nothing but the matrix representation of the bilinear form $(-, -)_{\g}$ with respect to the basis $\{\alpha_i\}_{i \in \simpleroots}$), such that:
            $$C = DA$$

        From theorem \ref{theorem: root_space_decomposition_for_finite_dimensional_simple_lie_algebras}, we see that for any given positive root $\alpha \in \Phi^+$ and corresponding choices of root vectors\footnote{Choices of which are unique up to non-zero scalar multiples, since subspaces of non-zero weights are equally $1$-dimensional (see theorem \ref{theorem: root_space_decomposition_for_finite_dimensional_simple_lie_algebras}).} $x_{\pm\alpha} \in \g_{\pm\alpha}$, one has that:
            $$(h, [x_{\alpha}, x_{-\alpha}])_{\g} = ([h, x_{\alpha}], x_{-\alpha})_{\g} = \alpha(h) (x_{\alpha}, x_{-\alpha})_{\g}$$
        for all $h \in \h$. Per the non-degneracy of the bilinear form $(-, -)_{\g}$, there must then exist an element:
            $$\alpha^{\vee} := [x_{\alpha}, x_{-\alpha}]$$
        such that:
            $$\frac{(-, \alpha^{\vee})_{\g}}{(x_{\alpha}, x_{-\alpha})_{\g}} = \alpha$$
        as linear functionals on $\h$, since $[\g_{\alpha}, \g_{-\alpha}] \subseteq \h$. Now, because each of the root spaces $\g_{\alpha}$ is $1$-dimensional (cf. theorem \ref{theorem: root_space_decomposition_for_finite_dimensional_simple_lie_algebras}), and again because $[\g_{\alpha}, \g_{-\alpha}] \subseteq \h$ for any root $\alpha$, it is reasonable to expect, for each positive root $\alpha \in \Phi^+$, an injective Lie algebra homomorphism:
            $$\sl_2(\bbC) \hookrightarrow \g$$
        given by:
            $$x^{\pm} \mapsto x_{\pm \alpha}, h \mapsto \alpha^{\vee}$$
        with $x^{\pm}, h$ as in example \ref{example: sl_2}. To see that such a map indeed exists, note firstly that:
            $$[\alpha^{\vee}, x_{\pm \alpha}] = \pm \alpha(\alpha^{\vee}) x_{\pm \alpha}$$
        Without loss of generality, let us insist that the root vectors $x_{\pm \alpha}$ satisfy:
            $$(x_{-\alpha}, x_{\alpha})_{\g} = \frac{2}{(\alpha^{\vee}, \alpha^{\vee})_{\g}}$$
        (cf. \cite[Proposition 8.3]{humphreys_lie_algebras}). We see also that, without any loss of generality, we can furthermore normalise the bilinear form $(-, -)_{\g}$ such that:
            $$(x_{\alpha}, x_{-\alpha})_{\g} = 1$$
        for any root $\alpha \in \Phi$. Doing so yields:
            $$(\alpha^{\vee}, \alpha^{\vee})_{\g} = 2$$
        and so:
            $$2 = \frac{(\alpha^{\vee}, \alpha^{\vee})_{\g}}{(x_{\alpha}, x_{-\alpha})_{\g}} = \alpha(\alpha^{\vee})$$
        which implies that:
            $$[\alpha^{\vee}, x_{\pm \alpha}] = \pm 2 x_{\pm \alpha}$$
        which is the missing relation for $\sl_2(\bbC)$ (cf. example \ref{example: sl_2}).
        
        The next result is a fundamental theorem in the study of finite-dimensional simple Lie algebras over algebraically closed fields of characteristic $0$. It essentially asserts that to give such a Lie algebra via a presentation by generators and relations is the same as to specify its Cartan matrix. The result is not only practically useful, but also is the mean by which one approaches Kac-Moody algebras, where the Cartan matrix is no longer required to be positive-definite; we refer the reader to subsection \ref{subsection: a_fixed_untwisted_affine_kac_moody_algebra} for a partial recollection of this story, and to \cite[Chapters 1-8]{kac_infinite_dimensional_lie_algebras} for details. 
        \begin{theorem}[Serre's Theorem] \label{theorem: serre_theorem_for_finite_dimensional_simple_lie_algebras}
            $\g$ is isomorphic to the Lie algebra generated by the set:
                $$\{x_i^{\pm}, h_i\}_{i \in \simpleroots}$$
            whose elements are subjected to the following relations, given for all $i, j \in \simpleroots$:
                $$[h_i, h_j] = 0$$
                $$[h_i, x_j^{\pm}] = \pm c_{ij} x_j^{\pm}, [x_i^+, x_j^-] = \delta_{ij} h_i$$
            and for all $i \not = j \in \simpleroots$, there are also the so-called \textbf{Serre relations}:
                $$\ad(x_i^{\pm})^{1 - c_{ij}}(x_j^{\pm}) = 0$$
            This is usually referred to as the \textbf{Chevalley-Serre} presentation for $\g$, and the relations are usually referred to collectively as the \textbf{Chevalley-Serre relations}.

            The isomorphism in question is given by:
                $$x_i^{\pm} \mapsto x_{\pm \alpha_i}, h_i \mapsto \alpha_i^{\vee}$$
            where $x_{\pm \alpha_i} \in \g_{\pm \alpha_i}$ are root vectors such that:
                $$(x_{-\alpha_i}, x_{\alpha_i})_{\g} = 1$$
        \end{theorem}

        The highest element of $\Phi$, i.e. the \textbf{highest root}, is usually denoted by:
            $$\theta$$
        This element is indeed uniquely defined, thanks to the fact that any finite-dimensional $\g$-module - $\g$ with the adjoint action of itself, in this case - has a highest weight (cf. \cite[Theorem 20.2]{humphreys_lie_algebras}); we note that this result relies on theorem \ref{theorem: serre_theorem_for_finite_dimensional_simple_lie_algebras}. We will be needing this distinguished element in subsection \ref{subsection: a_fixed_untwisted_affine_kac_moody_algebra}.

        We end this subsection with a brief analysis of the easiest possible example of a finite-dimensional simple Lie algebra. 
        \begin{example}[$\sl_2$] \label{example: sl_2}
            Recall that $\sl_2(\bbC)$ is the kernel of the trace map:
                $$\trace: \gl_2(\bbC) \to \bbC$$
            i.e. it is the Lie algebra of trace-zero $2 \x 2$-matrices whose Lie bracket is the usual commutator of matrices. It is of dimension $\dim_{\bbC} \gl_2(\bbC) - \dim_{\bbC} \bbC = 4 - 1 = 3$, and a common choice of basis is:
                $$\left\{ h := \begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix}, x^+ := \begin{pmatrix} 0 & 1 \\ 0 & 0 \end{pmatrix}, x^- := \begin{pmatrix} 0 & 0 \\ 1 & 0 \end{pmatrix} \right\}$$
                
            Now, observe that:
                $$[h, x^{\pm}] = \pm 2 x^{\pm}, [x^+, x^-] = h$$
            From this, one sees that:
                $$\sl_2(\bbC)_0 = \bbC h, \sl_2(\bbC)_{\pm 2} = \bbC x^{\pm}$$
            which in particular, implies that $\bbC h$ is a Cartan subalgebra and that the root space decomposition of $\sl_2(\bbC)$ takes the form:
                $$\sl_2(\bbC) = \bbC x^- \oplus \bbC h \oplus \bbC x^+$$
            One notes also, that the relations $[h, x^{\pm}] = \pm 2 x^{\pm}, [x^+, x^-] = h$ are precisely the Chevalley-Serre relations for $\sl_2(\bbC)$, and so the set $\{h, x^{\pm}\}$ is a set of Chevalley-Serre generators for $\sl_2(\bbC)$.
            
            In this case, the Cartan matrix is just:
                $$\begin{pmatrix} 2 \end{pmatrix}$$
        \end{example}

    \subsection{Perfect Lie algebras and their central extensions}
        \begin{definition}[Extensions of Lie algebras] \label{def: lie_algebra_extensions}
            Fix a Lie algebra $\a$ over a field.
        
            A \textbf{Lie algebra extension} is a short exact sequence of Lie algebras:
                $$0 \to \Omega \to \frake \xrightarrow[]{\pi} \a \to 0$$
            or equivalently, a Lie algebra epimorphism $\pi: \frake \to \a$ ($\Omega$ is then uniquely determined as $\ker \pi$). 
            
            A morphism between two such extensions of the given Lie algebra $\a$, say:
                $$\varphi: (\pi': \frake' \to \a) \to (\pi: \frake \to \a)$$
            is then a commutative diagram of Lie algebras and Lie algebra homomorphisms:
                $$
                    \begin{tikzcd}
                	0 & {\Omega'} & {\frake'} & \a & 0 \\
                	0 & \Omega & \frake & \a & 0
                	\arrow["{\varphi|_{\z'}}", from=1-2, to=2-2]
                	\arrow["\varphi", from=1-3, to=2-3]
                	\arrow["{\id_{\a}}", from=1-4, to=2-4]
                	\arrow[from=1-1, to=1-2]
                	\arrow[tail, from=1-2, to=1-3]
                	\arrow["{\pi'}", two heads, from=1-3, to=1-4]
                	\arrow[from=1-4, to=1-5]
                	\arrow[from=2-1, to=2-2]
                	\arrow[tail, from=2-2, to=2-3]
                	\arrow["\pi", two heads, from=2-3, to=2-4]
                	\arrow[from=2-4, to=2-5]
                    \end{tikzcd}
                $$
            wherein the rows are short exact sequences. If the middle vertical arrow $\varphi: \frake' \to \frake$ is a Lie algebra isomorphism, then the entire diagram will be regarded as an isomorphism of extensions of $\a$\footnote{... which means that one can meaningfully speak of isomorphism classes of extensions of a given Lie algebra.}.
        \end{definition}
        \begin{definition}[Central extensions of Lie algebras] \label{def: central_lie_algebra_extensions}
            A Lie algebra extension:
                $$0 \to \Omega \to \frake \to \a \to 0$$
            is \textbf{central} if the elements of $\Omega$ are central in $\frake$; morphisms between central extensions are just morphisms of Lie algebra extensions (cf. definition \ref{def: lie_algebra_extensions}).
            
            A central extension $(p: \fraku \to \a)$ is said to be \textbf{universal} if and only if for every other central extension $(\pi: \frake \to \a)$, there exists a \textit{unique} morphism:
                $$(p: \fraku \to \a) \to (\pi: \frake \to \a)$$
            If a Lie algebra $\a$ admits a universal central extension (UCE) then we will denote it by $\uce(\a)$.
        \end{definition}
        \begin{remark}
            Universal central extensions are unique up to unique isomorphisms. 
        \end{remark}
        \begin{remark}
            Since we are working over a field, all short exact sequences split when regarded as short exact sequences of vector spaces. In particular, this implies that given a Lie algebra extension:
                $$0 \to \Omega \to \frake \to \a \to 0$$
            the underlying vector space of $\frake$ will always be isomorphic to $\a \oplus \z$. From now on, this identification will be used without explicit mention.
        \end{remark}
        We will also need to know how the Lie brackets on extensions are given explicitly, though only for a certain class of extensions. The fundamental example is the construction of semi-direct products of Lie algebras.
        \begin{example}[Semi-direct products of Lie algebras] \label{example: lie_algebra_semi_direct_products}
            Let:
                $$\rho: \d \to \der(\t)$$
            be a Lie algebra homomorphism from a Lie algebra $\d$ to the Lie algebra of derivations on another Lie algebra $\t$, making $\t$ a $\d$-module. Our goal is to use this initial data to define a Lie algebra extension:
                $$0 \to \t \to \t \rtimes \d \to \d \to 0$$
            called the \textbf{semi-direct product} of $\d$ by $\t$. By picking a linear section, i.e. a morphism of vector spaces such that:
                $$\pi \circ \gamma = \id_{\d}$$
            where $\pi: \t \oplus \d \to \d$ is the canonical projection, we can then define:
                $$[\gamma(\d), \t]_{\t \rtimes \d} := \rho(\d)(\t)$$
            The Lie bracket on $\t \rtimes \d$ thus takes the form:
                $$
                    \begin{aligned}
                        [ K + \gamma(D), K' + \gamma(D') ]_{\t \rtimes \d} & = ( [K, K']_{\t} + [\gamma(D), K']_{\t \rtimes \d} - [\gamma(D'), K]_{\t \rtimes \d} ) + \gamma( [D, D']_{\d} )
                        \\
                        & := ( [K, K']_{\t} + \rho(D)(K') - \rho(D')(K) ) + \gamma( [D, D']_{\d} )
                    \end{aligned}
                $$
            for all $D, D' \in \d$ and all $K, K' \in \t$.

            Observe, also, that should $\t$ be abelian, the summand $[K, K']_{\t}$ shall vanish, and the bracket on $\t \rtimes \d$ shall then take the form:
                $$[ K + \gamma(D), K' + \gamma(D') ]_{\t \rtimes \d} = ( \rho(D)(K') - \rho(D')(K) ) + \gamma( [D, D']_{\d} )$$
            If we also have that $\t \subseteq \z( \t \rtimes \d )$, i.e. that the extension of $\d$ by $\t$ is central, then the bracket on $\t \rtimes \d$ will reduce furthermore down to:
                $$[ K + \gamma(D), K' + \gamma(D') ]_{\t \rtimes \d} = \gamma( [D, D']_{\d} )$$
            meaning that in this case, one has an isomorphism of Lie algebras:
                $$\t \rtimes \d \cong \t \oplus \d$$
        \end{example}
        Of course, there are central Lie algebra extensions other than trivial ones (i.e. direct sums of Lie algebras), and more generally, there are definitely extensions of Lie algebras that are not semi-direct products. One way to construct such extensions is to add an extra term - a \say{$2$-cocycle} - whose function is to \say{twist} the Lie brackets on semi-direct products into a slight variant thereof. More preecisely, if we are granted a Lie algebra extension:
            $$0 \to \t \to \frake \to \d \to 0$$
        then the aforementioned $2$-cocycles shall serve to measure the difference between $[D, D']_{\frake}$ and $[D, D']_{\d}$, for $D, D' \in \d$. One small technical assumption that we must make in order to be able to even make this comparison in the first place, is that $\t$ must be a $\d$-module of a certain sort (cf. proposition \ref{prop: twisted_semi_direct_product_criterion}). 
        \begin{definition}[$2$-cocycles and twisted semi-direct products] \label{def: twisted_semi_direct_products} 
            Suppose that:
                $$0 \to \t \to \frake \xrightarrow[]{\pi} \d \to 0$$
            is an extension of Lie algebras with a fixed linear section:
                $$\gamma: \d \to \t \oplus \d$$
            This is said to be a \textbf{twisted semi-direct product} corresponding to a \textbf{$2$-cocycle}\footnote{The terminology stems from the fact that isomorphism classes of \textit{central} extensions, say of $\d$ by $\t$, are in bijection with the elements of $H^2_{\Lie}(\d, \t)$. This is a standard homological algebraic fact; see e.g. \cite[Theorem VII.3.3]{hilton_stammbach_homological_algebra}. We will not, however, be making use of any homological algebra. This remark is purely for an etymological purpose.} $\sigma$ of $\d$ with values in $\t$ if and only if the Lie bracket on $\frake$ is of the form\footnote{Note that in writing $[-, -]_{\frake} = [-, -]_{\t \rtimes \d} + \sigma$, we have actually slightly abused notations. Technically, this should have been $[-, -]_{\frake} = [-, -]_{\t \rtimes \d} + \sigma \circ ( \pi \wedge \pi )$, with $\pi: \frake \to \d$ being the canonical projection.}:
                $$[-, -]_{\frake} = [-, -]_{\t \rtimes \d} + \sigma$$
            for some skew-symmetric bilinear map:
                $$\sigma: \bigwedge^2 \d \to \t$$
            making $[-, -]_{\frake}$ satisfy the Jacobi identity, given as follows for all $K + D, K' + D', K'' + D'' \in \t \oplus \d$:
                $$
                    \begin{aligned}
                        & [[K + D, K' + D']_{\t \rtimes \d} + \sigma(D, D'), K'' + D'']_{\frake}
                        \\
                        + & [[K'' + D'', K + D]_{\t \rtimes \d} + \sigma(D'', D), K' + D']_{\frake}
                        \\
                        + & [[K' + D', K'' + D'']_{\t \rtimes \d} + \sigma(D', D''), K + D]_{\frake}
                    \end{aligned}
                    = 0
                $$
            
            In that case, we shall write:
                $$\frake \cong \t \rtimes^{\sigma} \d$$
            Should $\frake$ be a central extension of $\d$ by $\t$, i.e. $\t \subseteq \z(\frake)$, then to put emphasis on this fact\footnote{... as it is entirely possible for $\t$ to be abelian while $\t \not \subset \z(\frake)$.}, we might instead write:
                $$\frake \cong \t \oplus^{\sigma} \d$$
        \end{definition}
        \begin{remark}
            Suppose that $\d$ and $\t$ are Lie algebras over a field $k$. It not hard to see, using their definition, that the $2$-cocycles $\sigma: \bigwedge^2 \d \to \t$ form a vector subspace of $\Hom_k(\bigwedge^2 \d, \t)$, typically denoted by $Z^2_{\Lie}(\d, \t)$. This fact will be used without explicit reference to it.
        \end{remark}
        \begin{remark}[Non-uniqueness of twisted semi-direct products]
            For definition \ref{def: twisted_semi_direct_products} to make sense, it is important that we choose a linear section:
                $$\gamma: \d \to \t \oplus \d$$
            Otherwise, it would be impossible for the statement that:
                $$[\gamma(\d), \t]_{\frake} := \rho(\d)(\t)$$
            to be well-defined.
        \end{remark}
        \begin{example}[Semi-direct products are trivially twisted]
            Clearly, semi-direct products are twisted semi-direct products corresponding to the $2$-cocycle $0$.
        \end{example}
        The following result gives a criterion for a given Lie algebra extension to be a twisted semi-direct product. We will be using it later on to identify so-called \say{Yangian extended toroidal Lie algebras} as certain twisted semi-direct products (cf. theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_preliminary_version}).
        \begin{proposition}[When is a Lie algebra extension a twisted semi-direct product ?] \label{prop: twisted_semi_direct_product_criterion}
            Suppose that:
                $$0 \to \t \to \frake \xrightarrow[]{\pi} \d \to 0$$
            is an extension of Lie algebras with a fixed linear section $\gamma: \d \to \t \oplus \d$. Then, $\t$ will be a $\d$-module - say defined by a Lie algebra homomorphism:
                $$\rho: \d \to \gl(\t)$$
            such that:
                $$[\gamma(\d), \t]_{\frake} := \rho(\d)(\t)$$
            - if and only if there exists a $2$-cocycle $\sigma: \bigwedge^2 \d \to \t$ \textit{depending on the choice of linear section $\gamma$}, as well as a Lie algebra isomorphism:
                $$\frake \cong \t \rtimes^{\sigma} \d$$
        \end{proposition}
            \begin{proof}
                Suppose firstly that $\t$ is a $\d$-module defined by a Lie algebra homomorphism $\rho: \d \to \gl(\t)$ such that $[\gamma(\d), \t]_{\frake} := \rho(\d)(\t)$. Given $K, K' \in \t$ and $D, D' \in \d$, one thus has that:
                    $$
                        \begin{aligned}
                            [ K + \gamma(D), K' + \gamma(D') ]_{\frake} & = ( [K, K']_{\t} + [\gamma(D), K']_{\frake} - [\gamma(D'), K]_{\frake} ) + [\gamma(D), \gamma(D')]_{\frake}
                            \\
                            & = ( [K, K']_{\t} + \rho(D)(K') - \rho(D')(K) ) + [\gamma(D), \gamma(D')]_{\frake}
                        \end{aligned}
                    $$
                If we can now define a skew-symmetric bilinear map:
                    $$\sigma: \bigwedge^2 \d \to \t$$
                to measure the difference between $[\gamma(D), \gamma(D')]_{\frake}$ and $\gamma([D, D']_{\d})$, i.e. by the following formula:
                    $$\sigma(D, D') := [\gamma(D), \gamma(D')]_{\frake} - \gamma( [D, D']_{\d} )$$
                then the Lie bracket $[-, -]_{\frake}$ can then be specified by:
                    $$[ K + D, K' + D' ]_{\frake} := ( [K, K']_{\t} + \rho(D)(K') - \rho(D')(K) ) + \gamma( [D, D']_{\d} ) + \sigma(D, D')$$
                Note also that because both $[-, -]_{\frake}$ and $[-, -]_{\d}$ are Lie brackets and hence satisfy the Jacobi identity, so must $\sigma$ too. $\sigma$ must then be a $2$-cocycle of $\d$ with values in $\t$ by definition, so it remains to show that $\sigma$ is well-defined, namely that the codomain of $\sigma$ lies inside $\t$. For this, simply note that the following holds for all $D, D' \in \d$:
                    $$\pi( \sigma(D, D') ) = \pi( [\gamma(D), \gamma(D')]_{\frake} ) - \pi( \gamma( [D, D']_{\d} ) = [D, D']_{\d} - [D, D']_{\d} = 0$$
                where the second equality holds thanks to the fact that $\pi: \frake \to \d$ is a Lie algebra homomorphism. Also, note that $\sigma$ indeed depends on the choice of $\gamma$.

                Conversely, suppose that the extension is a twisted semi-direct product, say:
                    $$\frake \cong \t \rtimes^{\sigma} \d$$
                for some $2$-cocycle $\sigma: \bigwedge^2 \d \to \t$. For all $K \in \t$ and all $D \in \d$, we have that:
                    $$[\gamma(D), K]_{\frake} = [\gamma(D), K]_{\t \rtimes \d} \in \t$$
                Using example \ref{example: lie_algebra_semi_direct_products}, one sees that this gives an action:
                    $$\rho: \d \to \gl(\t)$$
                such that:
                    $$[\gamma(D), K]_{\frake} = \rho(D)(K)$$
            \end{proof}
        The following corollary follows suite, though we would like to state it nevertheless, as it will be useful later on when we get to discussing Kassel's description of UCEs of current algebras (see \ref{theorem: kassel_realisation} and the discussion preceding it).
        \begin{corollary}[Central extensions are twisted semi-direct products] \label{coro: lie_brackets_on_central_extensions}
            Let:
                $$0 \to \Omega \to \frake \xrightarrow[]{\pi} \a \to 0$$
            be a central extension. Then, for any choice of linear section $\gamma: \a \to \frake$, which gives rise to a $2$-cocycle:
                $$\e: \bigwedge^2 \a \to \Omega$$
            there exists a Lie algebra isomorphism:
                $$\frake \cong \Omega \oplus^{\e} \a$$
        \end{corollary}
            \begin{proof}
                Per the discussion at the end of example \ref{example: lie_algebra_semi_direct_products}, one sees that $\Omega$ is equipped with a trivial $\a$-module. The rest is clear from proposition \ref{prop: twisted_semi_direct_product_criterion}.
            \end{proof}
        Another corollary to proposition \ref{prop: twisted_semi_direct_product_criterion} is as follows.
        \begin{corollary}[$2$-cocycles are central] \label{coro: 2_cocycles_are_central}
            Consider a twisted semi-direct product:
                $$\t \rtimes^{\sigma} \d$$
            whose Lie bracket shall be denoted by $[-, -]_{\sigma}$. Implicitly, it shall be understood that $\sigma$ arises from a choice of linear section $\gamma: \d \to \t \oplus \d$. The codomain of the corresponding $2$-cocycle $\sigma: \bigwedge^2 \d \to \t$ actually lies in $\z(\t)$.
        \end{corollary}
            \begin{proof}
                Let us write $[-, -]_0$ for the Lie bracket on $\t \rtimes \d$. Also, to avoid a proliferation of brackets, we shall be writing $X + \xi := X + \gamma(\xi)$ and $[\xi, X]_{\sigma} := [\gamma(\xi), X]_{\sigma}$ for all $\xi \in \d$ and all $X \in \t$. 
                
                From the definition of twisted semi-direct products, we have the Jacobi identity, which is as follows for all $K + D, K' + D', K'' + D'' \in \t \oplus \d$:
                    $$
                        \begin{aligned}
                            & [[K + D, K' + D']_0 + \sigma(D, D'), K'' + D'']_{\sigma}
                            \\
                            + & [[K'' + D'', K + D]_0 + \sigma(D'', D), K' + D']_{\sigma}
                            \\
                            + & [[K' + D', K'' + D'']_0 + \sigma(D', D''), K + D]_{\sigma}
                        \end{aligned}
                        = 0
                    $$
                By taking $K = K' = D'' = 0$, the above reduces to:
                    $$[[D, D']_0 + \sigma(D, D'), K'']_{\sigma} + [[K'', D]_0, D']_{\sigma} + [[D', K'']_0, D]_{\sigma} = 0$$
                This, in turn, implies that:
                    $$
                        \begin{aligned}
                            0 & = [\sigma(D, D'), K'']_{\sigma} + [[D, D']_0, K'']_{\sigma} + [[K'', D]_0, D']_{\sigma} + [[D', K'']_0, D]_{\sigma} = 0
                            \\
                            & = [\sigma(D, D'), K'']_{\sigma} + \rho( [D, D']_0 )(K'') + ( \rho(D') \circ \rho(D) )(K'') - ( \rho(D) \circ \rho(D') )(K'')
                            \\
                            & = [\sigma(D, D'), K'']_{\sigma}
                        \end{aligned}
                    $$
                in which $\rho: \d \to \gl(\t)$ is the $\d$-module structure on $\t$ induced by the twisted semi-direct product $\t \rtimes^{\sigma} \d$, which we recall to be such that $[\xi, X]_{\sigma} = \rho(\xi)(X)$ for all $\xi \in \d$ and all $X \in \t$. Since $D, D' \in \d$ and $K'' \in \t$ were chosen arbitrarily, the fact that:
                    $$[\sigma(D, D'), K'']_{\sigma} = 0$$
                thus shows that:
                    $$\sigma(D, D') \in \z(\t)$$
                for all $D, D' \in \d$.
            \end{proof}

        Let us now turn our attention towards the problem of existence of UCEs, now that we know how Lie brackets on central extensions are given in general. A particular class of Lie algebras that happen to admit UCEs are the so-called \say{perfect} ones.
        \begin{definition}[Perfect Lie algebras]
            A Lie algebra is said to be \textbf{perfect} if it is equal to its derived subalgebra. 
        \end{definition}
        \begin{example}
            Since simple Lie algebras lack non-zero ideals by definition, they are perfect. 
        \end{example}
        \begin{example}
            Let $A$ be any commutative algebra over a field $\bbC$, and let $\g$ be a simple Lie algebra over $\bbC$. Endow the $\bbC$-vector space $\g \tensor_{\bbC} A$ with the Lie bracket:
                $$\forall x, y \in \g: \forall f, g \in A: [x f, y g]_{\g \tensor_{\bbC} A} := [x, y]_{\g} \tensor fg$$
            Then, $\g \tensor_{\bbC} A$ will be perfect when regraded as a Lie algebra over $\bbC$, precisely because $\g$ is simple.
        \end{example}
        \begin{example}
            Counter-examples include nilpotent Lie algebras (e.g. abelian Lie algebras). For such Lie algebras, their derived subalgebras are always proper Lie subalgebras (and in particular, derived subalgebras of abelian Lie algebras are zero). 
        \end{example}
        \begin{proposition}[Perfect Lie algebras admit UCEs] \label{prop: perfect_lie_algebras_admit_UCEs}
            \cite[Lemma 1.10]{garland_arithmetics_of_loop_groups} Let $\bbC$ be a field and $\a$ is a Lie algebra over $\bbC$. Then $\a$ admits a UCE if and only if it is perfect.
        \end{proposition}

        Let us conclude this subsection by making note of the following fact about the process of extending invariant bilinear forms from Lie algebras to their central extensions.
        \begin{remark}[Extending invariant bilinear forms to central extensions] \label{remark: extending_bilinear_forms_to_central_extensions}
            Let $\bbC$ be a field.
            
            Let $\a$ be a Lie algebra over $\bbC$ and $(-, -)$ is an invariant symmetric $\bbC$-bilinear form thereon. Additionally, let:
                $$0 \to \Omega \to \frake \to \a \to 0$$
            be a central Lie algebra extension of $\a$ such that $\Omega \not \cong 0$. By proposition \ref{prop: twisted_semi_direct_product_criterion}, we know that for all $X, Y \in \a$, we have that:
                $$[X, Y]_{\frake} = [X, Y]_{\a} + K(X, Y)$$
            for some $K(X, Y) \in \Omega$ depending on the choices of $X, Y$.
            
            Suppose that $\<-, -\>$ is any extension of $(-, -)$ to $\frake$, i.e. $\<-, -\>$ is a symmetric $\bbC$-bilinear form on $\frake$ such that:
                $$\<-, -\>|_{\Sym^2_{\bbC}( \a )} = (-, -)$$
            Assume furthermore, that:
                $$\<\a, \Omega\> = 0, \<\Omega, \Omega\> = 0$$ 
            Now, note that $\<-, -\>$ is necessarily invariant: indeed, for any $X, Y, Z \in \a$, we have that:
                $$
                    \begin{aligned}
                        \<[X, Y]_{\frake}, Z\> & = \< [X, Y]_{\a} + K(X, Y), Z \>
                        \\
                        & = ([X, Y]_{\a}, Z)
                        \\
                        & = (X, [Y, Z]_{\a})
                        \\
                        & = \< X, [Y, Z]_{\a} + K(Y, Z) \>
                        \\
                        & = \< X, [Y, Z]_{\frake} \>
                    \end{aligned}
                $$
            Furthermore, $\<-, -\>$ must be degenerate, regardless of whether or not $(-, -)$ is degenerate to begin with: to see why, it suffices to show that the radical\footnote{If $V$ is a vector space and $B$ is a symmetric bilinear form on $V$, then the \textbf{radical} of $B$ is then given by $\Rad B := \{v \in V \mid \forall w \in V: B(v, w) = 0\}$.} of $\<-, -\>$ is non-zero, for which we can simply consider the following for any $X, Y \in \a$ and any $K \in \Omega$, and then exploit the invariance of $\<-, -\>$:
                $$\<K, [X, Y]_{\frake}\> = \<[K, X]_{\frake}, Y\> = \<0, Y\> = 0$$

            Not every Lie algebra with a non-trivial centre arises as a central extension (see \cite[Section 1]{garland_arithmetics_of_loop_groups} for details), so it is not true that any invariant symmetric bilinear form on such a Lie algebra must be degenerate. Central elements can pair non-trivially with other elements, such as in the construction of untwisted affine Kac-Moody algebras (cf. subsection \ref{subsection: a_fixed_untwisted_affine_kac_moody_algebra}) or in the construction of so-called \say{extended toroidal Lie algebras} (cf. definition \ref{def: yangian_extended_toroidal_lie_algebras}).
        \end{remark}