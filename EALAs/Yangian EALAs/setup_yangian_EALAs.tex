\section{Setup and overview of results}
    Again, $\g$ is a finite-dimensional simple Lie algebra over $\bbC$. It is accompanied by all the data listed in subsection \ref{subsection: finite_dimensional_simple_lie_algebras}. 

    \subsection{Conventions for toroidal Lie algebras} \label{subsection: toroidal_lie_algebra_conventions}
        For our own convenience, we will also be adopting the following abbreviations:
            $$A := \bbC[v^{\pm 1}, t^{\pm 1}], \bar{\Omega}_{[2]} := \bar{\Omega}^1_{A/\bbC}$$
        and also that:
            $$\g_{[2]} := \g \tensor_{\bbC} A$$
        being understood as current algebras (in the sense of definition \ref{def: current_algebras}).
    
        We will then be interested in the Lie algebra:
            $$\toroidal := \uce(\g_{[2]})$$
        which, respectively, shall be referred to as the \textbf{toroidal Lie algebra} associated to $\g$. In example \ref{example: toroidal_lie_algebras_centres} and remark \ref{remark: Z_gradings_on_toroidal_lie_algebras}, the structures of the underlying ($\Z$-graded) vector spaces of these Lie algebras have already been described, and we refer the reader there for the details (in particular, the construction of a canonical basis for the underlying vector spaces of their centres). So that our notations would be suggestive, we shall be writing:
            $$\z_{[2]} := \z(\toroidal)$$
        from now on; often, we might refer to these as the \textbf{(positive) toroidal centres}.
        
        Now, instead of being equipped with the usual residue bilinear form of degree $(0, 0)$, the Lie algebra $\g_{[2]}$ will be equipped with the residue bilinear form of degree $(0, -1)$:
            $$(x v^m t^p, y v^n t^q)_{\g_{[2]}} := (x, y)_{\g} \delta_{(m, p) + (n, q), (0, -1)}$$
        given for all $x, y \in \g$ and all $(m, p), (n, q) \in \Z^2$. It is easy to see that the bilinear form:
            $$(-, -)_{\g_{[2]}}$$
        is symmetric, non-degenerate, and invariant. Because $\toroidal$ has a non-trivial centre, any invariant (symmetric) bilinear form thereon (so in particular, any extension of $(-, -)_{\g_{[2]}}$ to $\toroidal$) is necessarily degenerate (see remark \ref{remark: extending_bilinear_forms_to_central_extensions}). The purpose of constructing \say{Yangian extended toroidal Lie algebras} is to remedy such degeneracy.

    \subsection{Outline of the construction and classification of Yangian extended toroidal Lie algebras}
        The point of constructing the so-called \say{Yangian extended toroidal Lie algebras} is to fix the issue, whereby any \textit{invariant}\footnote{Let $\a$ be a perfect Lie algebra with non-zero centre and $(-, -)$ be such an invariant symmetric bilinear form thereon. Then, for all $x, y \in \a$ and all $K \in \z(\a)$, we will have that $(K, [x, y]) = ([K, x], y) = (0, y) = 0$, thus proving that $(-, -)$ is degenerate. The assumption that $\a$ is perfect is important here because otherwise, not every element thereof can be written as $[x, y]$, and therefore $(K, [x, y]) = 0$ for all $K \in \z(\a)$ and all $x, y \in \a$ would not imply that $(-, -)$ has a non-zero radical.} symmetric bilinear form on:
            $$\toroidal:= \uce(\g_{[2]})$$
        is necessarily degenerate. We do this by formally introducing a \say{complementary} vector space $\d_{[2]}$ whose elements shall pair non-degenerately with those of $\z_{[2]}$. We will see that these complementary elements are in fact certain $\bbC$-linear derivations on $A$, which then allows us to show that $\extendedtoroidal$ is a $\der(A)$-module. Moreover, $\d_{[2]}$ can be shown to be closed under the commutator bracket, and hence a Lie subalgebra of $\der(A)$. Consequently, $\extendedtoroidal$ is a $\d_{[2]}$-module. If we can then also show that $\extendedtoroidal$ arises as a Lie algebra extension of the form:
            $$0 \to \toroidal \to \extendedtoroidal \to \d_{[2]} \to 0$$
        then the hypotheses proposition \ref{prop: twisted_semi_direct_product_criterion} will have been met. The proposition will then tell us that:
            $$\extendedtoroidal \cong \toroidal \rtimes^{\sigma} \d_{[2]}$$
        for some $2$-cocycle:
            $$\sigma: \bigwedge^2 \d \to \toroidal$$
        We will also see that it is enough to specify a $2$-cocycle:
            $$\sigma: \bigwedge^2 \d_{[2]} \to \z_{[2]}$$
        which is better, since $\z_{[2]}$ is abelian, unlike $\toroidal$.
        
        \begin{convention} \label{conv: orthogonal_complement_of_toroidal_centres}
            From now on, let us write:
                $$\d_{[2]} := \z_{[2]}^{\star}$$
            for the $\Z$-graded dual of $\z_{[2]}$, on which the grading is as in remark \ref{remark: Z_gradings_on_toroidal_lie_algebras}. In other words, $\d_{[2]}$ shall be the $\bbC$-vector space:
                $$\d_{[2]} := ( \bigoplus_{(r, s) \in \Z^2} \bbC D_{r, s} ) \oplus \bbC D_v \oplus \bbC D_t$$
            where the basis elements $D_{r, s}, D_v, D_t$ are graded-dual to the elements $K_{r, s}, c_v, c_t$, respectively, in the sense that:
                $$D_{r, s}(K_{r, s}) = D_v(c_v) = D_t(c_t) = 1$$

            This allows us to endow the vector space:
                $$\extendedtoroidal := \toroidal \oplus \d_{[2]}$$
            with a \textit{non-degenerate} symmetric bilinear form:
                $$(-, -)_{\extendedtoroidal}$$
            such that:
                $$(X, D)_{\extendedtoroidal} = (X, K)_{\extendedtoroidal} = 0$$
                $$(D, K)_{\extendedtoroidal} := D(K)$$
            for all $X \in \g_{[2]}$, $K \in \z_{[2]}$, and $D \in \d_{[2]}$. We shall also insist that the restriction of $(-, -)_{\extendedtoroidal}$ to the vector subspace $\g_{[2]}$ coincides with the bilinear form $(-, -)_{\g_{[2]}}$.
        \end{convention}

        \todo[inline]{Changed the presentation of Chapter 2 in accordance with the $\gamma$-extension file.}
        In order to show that there is a Lie algebra extension:
            $$0 \to \toroidal \to \extendedtoroidal \to \d_{[2]} \to 0$$
        we must first of all endow $\d_{[2]}$ with a Lie algebra structure, which we shall do by identifying $\d_{[2]}$ with a certain intrinsically defined Lie subalgebra:
            $$\der_{\gamma}(A)$$
        of the Lie algebra $\der(A)$ of derivations on $A$ (cf. lemma \ref{lemma: yangian_div_zero_vector_fields} and proposition \ref{prop: intrinsic_description_of_yangian_div_zero_vector_fields}), which shall always be equipped with the commutator bracket. After this, we shall construct Lie brackets:
            $$[-, -]_{\extendedtoroidal}$$
        on the vector space $\extendedtoroidal := \toroidal \oplus \d_{[2]}$. We shall additionally require that any Lie bracket $[-, -]_{\extendedtoroidal}$ satisfies the following properties:
        \begin{itemize}
            \item The bilinear form $(-, -)_{\extendedtoroidal}$ is invariant with respect to $[-, -]_{\extendedtoroidal}$, and
            \item $\toroidal := \uce(\g_{[2]})$ with its Lie bracket as in theorem \ref{theorem: kassel_realisation} embeds naturally as a Lie subalgebra into $\extendedtoroidal$ with the bracket $[-, -]_{\extendedtoroidal}$. 
        \end{itemize}

        In order to define the aforementioned Lie subalgebra:
            $$\der_{\gamma}(A)$$
        of $\der(A)$, we shall firstly need the notion of formal residues. 
        \begin{definition}[Formal residue] \label{def: formal_residues}
            The \textbf{formal residue} of any element $f(v_1, ..., v_n) \in \bbC[v_1^{\pm 1}, ..., v_n^{\pm 1}]$ is then given by:
                $$\Res_{(v_1, ..., v_n) = (0, ..., 0)}(f) := ( \Res_{v_n = 0} \circ ... \circ \Res_{v_1 = 0} )( f(v_1, ..., v_n) )$$
            Each map:
                $$\Res_{v_i = 0}: \bbC[v_i, ..., v_n] \to \bbC[v_{i + 1}, ..., v_n]$$
            is takes as input an element $f(v_i, ..., v_n) \in \bbC[v_{i + 1}, ..., v_n]$ and outputs the $\bbC[v_{i + 1}, ..., v_n]$-coefficient of the term with $v_i^{-1}$, or $0$ if there is no such term. 
        \end{definition}
        \begin{remark}[Taking formal residues is linear]
            It is not hard to see that:
                $$\Res_{(v_1, ..., v_n) = (0, ..., 0)}( v_1^{m_1} ... v_n^{m_n} ) = \delta_{(m_1, ..., m_n), (-1, ..., -1)}$$
            From this, one sees that:
                $$\Res_{(v_1, ..., v_n) = (0, ..., 0)}: \bbC[v_1, ..., v_n] \to k$$
            is a linear map.
        \end{remark}
        \begin{lemma}[Yangian \say{divergence-zero} vector fields] \label{lemma: yangian_div_zero_vector_fields}
            Let:
                $$\gamma: A \to \bbC$$
            be the linear map given by:
                $$\gamma(f) := -\Res_{(v, t) = (0, 0)}(v^{-1} f)$$
            for all $f \in A$. Then, the following vector subspace of $\der(A)$:
                $$\der_{\gamma}(A) := \{ D \in \der(A) \mid \forall f \in A: \gamma(f) = 0 \}$$
            will actually be a Lie subalgebra, and hence acts naturally on $\g_{[2]}$ by the action given by:
                $$D \cdot xf := x D(f)$$
            for all $x \in \g, f \in A$, and all $D \in \der(A)$.
        \end{lemma}
            \begin{proof}
                Pick arbitrary elements $D, D' \in \der_{\gamma}(A)$ again, and then simply consider the following for any $f \in A$:
                    $$\gamma( ([D, D'])(f) ) = \gamma( DD'(f) ) - \gamma( D'D(f) ) = 0$$
            \end{proof}

        \begin{definition}[Yangian extended toroidal Lie algebras] \label{def: yangian_extended_toroidal_lie_algebras}
            A \textbf{Yangian extended toroidal Lie algebra} or a \textbf{$\gamma$-extended toroidal Lie algebra} is a Lie algebra $\fraky$ satisfying the following properties:
            \begin{itemize}
                \item The underlying vector space of $\fraky$ is isomorphic to $\g_{[2]} \oplus \z_{[2]} \oplus \der_{\gamma}(A)$.
                \item There is an invariant and non-degenerate symmetric bilinear form $(-, -)_{\fraky}$ whose restriction down to $\toroidal$ coincides with $(-, -)_{\toroidal}$ as subsection \ref{subsection: toroidal_lie_algebra_conventions}.
                \item There exists an injective Lie algebra homomorphism $\toroidal \hookrightarrow \fraky$.
            \end{itemize}
        \end{definition}
        \begin{remark}
            Strictly speaking, what definition \ref{def: yangian_extended_toroidal_lie_algebras} asserts is \textit{a priori} weaker than to insist that Yangian extended toroidal Lie algebras are certain Lie algebra extensions of the form:
                $$0 \to \toroidal \to \fraky \to \der_{\gamma}(A) \to 0$$
            but we will see that in fact, they must be such extensions.
        \end{remark}
        \begin{remark}[Regarding terminologies]
            Our notion of Yangian extended toroidal Lie algebras does not quite coincide with the very similar notion of an \say{toroidal extended affine Lie algebra} (also known as \say{extended affine Lie algebras of nullity $2$}) that appeared, for instance, in \cite{billig_representations_of_toroidal_extended_affine_lie_algebras} and \cite{neher_lectures_on_EALAs}. Ultimately, this is because the bilinear form that we have endowed $\g_{[2]}$ with is of degree $-1$ (as opposed to $0$) in the second variable. For the latter, instead of $\d_{[2]}$, one would consider the Lie algebra of divergence-free algebraic vector fields on the (smooth) affine $\bbC$-scheme $\Spec A \cong \G_m^2$.
        \end{remark}
        
        It now makes sense to speak of Lie algebra extensions:
            $$0 \to \toroidal \to \extendedtoroidal \to \der_{\gamma}(A) \to 0$$
        The main theorem of the first half of this chapter is the following result:
        \begin{theorem}[Yangian extended toroidal Lie algebras] \label{theorem: yangian_extended_toroidal_lie_algebras_preliminary_version}
            \begin{enumerate}
                \item Any Yangian toroidal Lie algebra is isomorphic to some twisted semi-direct product (cf. definition \ref{def: twisted_semi_direct_products}):
                    $$\toroidal \rtimes^{\sigma} \der_{\gamma}(A)$$
                for some $2$-cocycle of $\d_{[2]}$ with values in $\z_{[2]}$.
                \item Conversely, a given twisted semi-direct product:
                    $$\fraky(\sigma) := \toroidal \rtimes^{\sigma} \der_{\gamma}(A)$$
                is a Yangian toroidal Lie algebra if and only if:
                \begin{itemize}
                    \item the codomain of the $2$-cocycle $\sigma: \bigwedge^2 \der_{\gamma}(A) \to \toroidal$ lies inside $\z_{[2]}$, and 
                    \item $\sigma$ satisfies invariances in the sense that:
                        $$(\sigma(D, D'), D'')_{\fraky(\sigma)} = (D, \sigma(D', D''))_{\fraky(\sigma)}$$
                    for any triple of elements $D, D', D'' \in \der_{\gamma}(A)$.
                \end{itemize}
            \end{enumerate}
        \end{theorem}
        A trivial - but nevertheless very important to us - corollary of this theorem is as follows.
        \begin{corollary}
            The semi-direct product:
                $$\toroidal \rtimes \der_{\gamma}(A)$$
            corresponding to $\sigma = 0$, is a Yangian extended toroidal Lie algebra.
        \end{corollary}

        Now, in order to prove the first part of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_preliminary_version} (which will eventually be packaged into a sub-result in the form of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras}), we shall proceed in the following steps:
        \begin{enumerate}
            \item Prove that $\d_{[2]}$ is a vector subspace of $\der(A)$ (cf. lemma \ref{lemma: derivation_action_on_multiloop_algebras}) that is equal to $\der_{\gamma}(A)$ (cf. proposition \ref{prop: intrinsic_description_of_yangian_div_zero_vector_fields}).
            \item Prove that $\toroidal$ is a $\der(A)$-module (cf. lemmas \ref{lemma: derivation_action_on_multiloop_algebras} and \ref{lemma: derivation_action_on_toroidal_centres}, which together imply proposition \ref{prop: toroidal_lie_algebras_as_modules_over_vector_field_lie_algebras}).
            \item Prove that for any Lie bracket $[-, -]_{\extendedtoroidal}$ on $\extendedtoroidal$ with respect to which $(-, -)_{\extendedtoroidal}$ is invariant, one shall have for all $D, D' \in \d_{[2]}$ that:
                $$[D, D']_{\extendedtoroidal} = [D, D'] + K(D, D')$$
            where $[-, -]$ means the usual commutator bracket, and $K(D, D') \in \z_{[2]}$ is some element depending on the choices of $D, D'$ (cf. proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}). This implies that the vector subspace $\d_{[2]}$ of $\der(A)$ is closed under the usual commutator bracket $[-, -]$ and hence, identifiable with a Lie subalgebra thereof, meaning that we indeed have a Lie algebra extension:
                $$0 \to \toroidal \to \extendedtoroidal \to \d_{[2]} \to 0$$
            Because $\toroidal$ is a $\der(A)$-module, it is also a $\d_{[2]}$-module, and therefore $\extendedtoroidal$ must be a twisted semi-direct product:
                $$\extendedtoroidal \cong \toroidal \rtimes^{\sigma} \d_{[2]}$$
            for some $2$-cocycle $\sigma: \bigwedge^2 \d_{[2]} \to \toroidal$, according to proposition \ref{prop: twisted_semi_direct_product_criterion}.
            \item In lemma \ref{lemma: derivation_action_on_multiloop_algebras}, we can only show that $[\d_{[2]}, \g_{[2]}]_{\extendedtoroidal} \subseteq \toroidal$ but it can now also be shown that:
                $$[\d_{[2]}, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$$
            (cf. corollary \ref{coro: derivation_action_on_multiloop_algebras}). In lemma \ref{lemma: derivation_action_on_toroidal_centres}, it was already shown that:
                $$[\d_{[2]}, \z_{[2]}]_{\extendedtoroidal} \subseteq \z_{[2]}$$
            Thus, we have a direct sum decomposition of $\d_{[2]}$-modules:
                $$\toroidal \cong \g_{[2]} \oplus \z_{[2]}$$
            which, in combination with the fact that $[\d_{[2]}, \d_{[2]}]_{\extendedtoroidal} \subseteq \d_{[2]} \oplus \z_{[2]}$, tells us that the aforementioned $2$-cocycles $\sigma: \bigwedge^2 \d_{[2]} \to \toroidal$ actually is specified by $2$-cocycles:
                $$\sigma: \bigwedge^2 \d_{[2]} \to \z_{[2]}$$
            In other words, we have constructed twisted semi-direct products:
                $$\z_{[2]} \rtimes^{\sigma} \d_{[2]}$$
        \end{enumerate}

        For the classification result, i.e. the second part of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_preliminary_version}, we will see:
        \begin{enumerate}
            \item that the codomain of any $2$-cocycle $\sigma: \bigwedge^2 \d_{[2]} \to \toroidal$ actually lies in $\z_{[2]}$ via proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}, and
            \item that the invariance property:
                $$(\sigma(D, D'), D'')_{\fraky(\sigma)} = (D, \sigma(D', D''))_{\fraky(\sigma)}$$
            is satisfied in theorem \ref{theorem: yangian_criterion_for_toroidal_cocycles}.
        \end{enumerate}
        Unfortunately, we are still not able to say more about the conditions on $\sigma$ itself so that it would be Yangian in the sense of definition \ref{def: yangian_toroidal_cocycles}, but we will be giving a specific example of a non-trivial Yangian cocycle in example \ref{example: yangian_cocycles_(counter)_examples}.