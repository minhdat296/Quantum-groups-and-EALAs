\section{A root grading for Yangian extended toroidal Lie algebra} \label{section: root_grading_for_yangian_EALAs}
    From now on, we will only be concerned with the Yangian extended toroidal Lie algebra:
        $$\extendedtoroidal := \toroidal \rtimes \divzero$$
    i.e. with the Yangian toroidal $2$-cocycle $\sigma = 0$. For an explanation of why we must make this assumption, see remark \ref{remark: why_yangian_toroidal_semi_direct_product}.

    As is now standard practice in infinite-dimensional Lie theory, infinite-dimensional Lie algebra induced from finite-dimensional simple Lie algebras ought to carry a grading by some kind of induced \say{higher root lattice} (e.g. affine Kac-Moody algebras are graded by the affinisations of the root lattices of the underlying finite-dimensional simple Lie algebras; cf. subsection \ref{subsection: a_fixed_untwisted_affine_kac_moody_algebra}). There are many reasons as to why one might seek to endow Lie algebras with such gradings, but one rather important reason is that without a root grading of some sort - which in turn would give rise to some kind of triangular decomposition - one would have no hope of setting up a theory of highest-weight modules which, from practical experiences with cases such as $\g$ and $\hat{\g}$, we know to be an extremely powerful method for attacking the problem of classifying say, simple modules over Lie algebras. Therfore, it is natural to ask the question of whether or not our Yangian extended toroidal Lie algebra $\extendedtoroidal$ can also be endowed with such an induced grading, primarily because $\extendedtoroidal$ carries a non-degenerate invariant symmetric bilinear form.

    \todo[inline]{Untwisted affine Kac-Moody algebra materials have been moved here.}
    \subsection{Untwisted affine Kac-Moody algebras} \label{subsection: a_fixed_untwisted_affine_kac_moody_algebra}
        A construction that we will be making use of frequently is the untwisted affine Kac-Moody algebra associated to a finite-dimensional simple Lie algebra. Let us briefly recall how it is constructed. For details, we refer the reader to \cite[Chapters 6 and 7]{kac_infinite_dimensional_lie_algebras}.

        Recall from example \ref{example: affine_lie_algebras_centres} that the Lie algebra:
            $$\uce(\g[v^{\pm 1}])$$
        carries a uniquely determined invariant symmetric bilinear form $(-, -)_{\uce(\g[v^{\pm 1}])}$ which is necessarily degenerate (see remark \ref{remark: extending_bilinear_forms_to_central_extensions}). However, by adding an extra element $D_{\aff}$ to the Lie algebra $\uce(\g[v^{\pm 1}])$ and by requiring that:
            $$(c_v, D_{\aff})_{\hat{\g}} = 1$$
            $$(\g[v^{\pm 1}], D_{\aff})_{\hat{\g}} = 0$$
            $$(D_{\aff}, D_{\aff})_{\hat{\g}} = 0$$
        where $\hat{\g} := \uce(\g[v^{\pm 1}]) \oplus \bbC D_{\aff}$ is the enlarged vector space. Any Lie algebra structure on the vector space $\uce(\g[v^{\pm 1}]) \oplus \bbC D_{\aff}$, with respect to which the bilinear form constructed is invariant, can then be shown to satisfy the following properties:
        \begin{itemize}
            \item The element $D_{\aff}$ can be shown to be the derivation on $\g[v^{\pm 1}]$ given by $\id_{\g} \tensor v \frac{d}{dv}$\footnote{Note that therefore $D_{\aff}$ is not the same as the element $D_v$.}.
            \item It can also be shown that:
                $$[D_{\aff}, c_v] = 0$$
        \end{itemize}
        Together, the two facts above imply that $\uce(\g[v^{\pm 1}]) \cong \g[v^{\pm 1}] \oplus \bbC c_v$ is a module over the $1$-dimensional Lie algebra $\bbC D_{\aff}$. via proposition \ref{prop: twisted_semi_direct_product_criterion} (see also: example \ref{example: lie_algebra_semi_direct_products}), one sees thus that there is a unique Lie algebra structure on $\uce(\g[v^{\pm 1}]) \oplus \bbC D_{\aff}$ resulting from the construction above, namely the semi-direct product of $\bbC D_{\aff}$ by $\uce(\g[v^{\pm 1}])$. The Lie algebra:
            $$\hat{\g} \cong \uce(\g[v^{\pm 1}]) \rtimes \bbC D_{\aff}$$
        is typically called the \textbf{untwisted affine Kac-Moody algebra} attached to $\g$.

        By construction, the bilinear form $(-, -)_{\hat{\g}}$ restricts to $(-, -)_{\uce(\g[v^{\pm 1}])}$ on $\uce(\g[v^{\pm 1}])$, and for how this bilinear form is given, we refer the reader to the latter portion of example \ref{example: affine_lie_algebras_centres}. Also by construction\footnote{... and due also to the fact that $(-, -)_{\g}$ is non-degenerate when restricted down to $\h$.}, this bilinear form remains non-degenerate on the subspace:
            $$\hat{\h} := \h \oplus \bbC c_v \oplus \bbC D_{\aff}$$
        and hence induces a vector space isomorphism:
            $$\hat{\h} \xrightarrow[]{\cong} \hat{\h}^*$$
        given by:
            $$h \mapsto (h, -)_{\hat{\g}}$$
        It is not hard to see that $\hat{\h}$ is a maximal abelian Lie subalgebra of $\hat{\g}$ whose elements are $\ad$-diagonalisable, so it is reasonable to refer to $\hat{\h}$ as a \textbf{Cartan subalgebra} of $\hat{\g}$, in analogy with the Cartan subalgebra $\h$ of $\g$. The choice of Cartan subalgebra $\hat{\h}$ is fixed once and for all, and while it is true that all $\ad$-diagonalisable maximal abelian Lie subalgebras of $\hat{\g}$ are conjugate to one another in this setting as well (like for $\g$), this assertion is much more difficult (see \cite{kac_peterson_infinite_flag_varieties_and_conjugacy_of_cartan_subalgebras}), so we shall settle for defining \say{the} Cartan subalgebra of $\hat{\g}$ in the somewhat \textit{ad hoc} manner above.

        Regardless, now that a Cartan subalgebra $\hat{\h}$ is fixed, one can speak of \textbf{roots} of $\hat{\g}$, which are to be elements $\beta \in \hat{\h}^*$ such that:
            $$\hat{\g}_{\beta} := \{ x \in \hat{\g} \mid \forall h \in \hat{\h}: [h, x]_{\hat{\g}} = \beta(h) x \} \not \cong 0$$
        The set of roots of $\hat{\g}$ shall be denoted by:
            $$\hat{\Phi}$$
        
        Now, in order to construct a root system for $\hat{\g}$, let us firstly choose a basis for $\hat{\h}^*$:
            $$\{\alpha_i\}_{1 \leq i \leq \dim_{\bbC} \hat{\h}}$$
        wherein the subset:
            $$\{\alpha_i\}_{1 \leq i \leq \dim_{\bbC} \h}$$
        is a choice of simple roots for the underlying finite-dimensional simple Lie algebra $\g$. Like with $\g$, this datum allows one to construct a Cartan matrix for $\hat{\g}$ in the same manner as was done for $\g$ in subsection \ref{subsection: finite_dimensional_simple_lie_algebras}:
            $$\hat{C} := (c_{ij})_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}} := \left( \frac{2(\alpha_i, \alpha_j)_{\hat{\g}}}{(\alpha_i, \alpha_i)_{\hat{\g}}} \right)_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}}$$
        Likewise, it can be shown that $\hat{C}$ is symmetrisable in the sense that there exists an invertible diagonal matrix:
            $$\hat{D} := (d_{ij})_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}} = \left(\frac{2\delta_{i, j}}{(\alpha_i, \alpha_j)_{\hat{\g}}}\right)_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}}$$
        and a symmetric matrix:
            $$\hat{A} := (a_{ij})_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}} = \left((\alpha_i, \alpha_j)_{\hat{\g}}\right)_{1 \leq i, j \leq \dim_{\bbC} \hat{\h}}$$
        (which is nothing but the matrix representation of the bilinear form $(-, -)_{\hat{\g}}$ with respect to the basis $\{\alpha_i\}_{1 \leq i \leq \dim_{\bbC} \hat{\h}}$), such that:
            $$\hat{C} = \hat{D} \hat{A}$$
        
        Now, a point of deviation from the finite-dimensional theory is that the Cartan matrix $\hat{C}$ is only positive-semi-definite in general, and since positive-semi-definite matrices are positive-definite if and only if they are invertible, $\hat{C}$ is generally not of full rank. Let us write:
            $$\hat{l} := \rank \hat{C} < \dim_{\bbC} \hat{\h}$$
        and it will also be convenient to have the notation:
            $$l := \rank C = \dim_{\bbC} \h$$
        Using the construction of the the non-degenerate bilinear form $(-, -)_{\hat{\g}}$ from the degenerate form $(-, -)_{\uce(\g[v^{\pm 1}])}$ - particularly how one as a single extra basis element $D_{\aff}$ to $\uce(\g[v^{\pm 1}])$ - it can be shown that:
            $$\hat{l} = l + 1$$
        $\hat{C}$ is therefore \textit{not of full rank}, and hence only \textit{positive-semi-definite}. The set of simple roots of $\hat{\g}$ can now be defined to be the following linearly independent subset of $\hat{\h}^*$:
            $$\hat{\simpleroots} := \simpleroots \cup \{-\theta + \delta\}$$
        where $\delta$ is the linear functional on $\hat{\h}$ given by:
            $$\delta := (c_v, -)_{\hat{\g}}$$
        (cf. \cite[Section 7.4, p. 100]{kac_infinite_dimensional_lie_algebras}) is typically referred to as the \textbf{lowest positive imaginary root}. It can be shown that elements of the set:
            $$\Im(\hat{\Phi}) := \Z\delta \setminus \{0\}$$
        are in fact roots of $\hat{\g}$ (i.e. that $\Z\delta \setminus \{0\} = \Z\delta \cap \hat{\Phi}$); elements of this set are usually called \textbf{imaginary roots}. We will explain why the extra simple root needs to be $-\theta + \delta$ (as opposed to, say, $\delta$) shortly; for now, let us remark that this choice results in the slightly unfortunate fact that the lowest imaginary root $\delta$ is \textit{not} simple, though there is certainly a bijection $\hat{\simpleroots} \cong \simpleroots \cup \{\delta\}$.

        Observe that because the vector space isomorphism $\hat{\h} \xrightarrow[]{\cong} \hat{\h}^*$ given by $h \mapsto (h, -)_{\hat{\g}}$ restricts down to an isomorphism $\h \xrightarrow[]{\cong} \h^*$ given by the same formula, due to the construction of the bilinear form $(-, -)_{\hat{\g}}$ (cf. example \ref{example: affine_lie_algebras_centres}), there exists an injection:
            $$\Phi \subset \hat{\Phi}$$
        This image allows us to define the set of so-called \textbf{real roots} of $\hat{\g}$ as follows:
            $$\Re(\hat{\Phi}) := \Phi + \Z\delta$$
        An intrinsic way to characterise real and imaginary roots is that $\beta \in \Im(\hat{\Phi})$ if and only if $(\beta, \beta)_{\hat{\g}} = 0$ and $\beta \in \Re(\hat{\Phi})$ otherwise. The set of roots of $\hat{\g}$ thus decomposes into a disjoint union of the subsets of real and of imaginary roots:
            $$\hat{\Phi} = \Re(\hat{\Phi}) \cup \Im(\hat{\Phi})$$
        
        The root lattice of $\hat{\g}$ can now be given as:
            $$\hat{Q} := \Z\{\alpha_i\}_{i \in \hat{\simpleroots}}$$
        Positive/negative roots are thus elements of:
            $$\hat{\Phi}^+ := \hat{\Phi} \cap \hat{Q}^{\pm}$$
        where:
            $$\hat{Q}^{\pm} := \pm\Z_{\geq 0}\{\alpha_i\}_{i \in \hat{\simpleroots}}$$
        Simple roots, in particular, are conventionally \textit{positive}.

        The $Q$-grading on $\g$ and the natural $\Z$-grading on $\bbC[v^{\pm 1}]$ induce, together, a $Q \x \Z$-grading on $\g$. Explicitly, for each $\lambda \in \Phi$, each $x \in \g_{\alpha}$, and each $m \in \Z$, one has that:
            $$\deg x v^m = (\alpha, m)$$
        Following \cite[Chapter 6]{kac_infinite_dimensional_lie_algebras}, we know that there is an isomorphism of $\Z$-modules:
            $$\hat{Q} \xrightarrow[]{\cong} Q \x \Z$$
            $$\alpha + m\delta \mapsto (\alpha, m)$$
        (given for all $\alpha \in \Phi$ and all $m \in \Z$). As such, $\g$ can be equivalently viewed as being $\hat{Q}$-graded in the sense that for each $\alpha \in Q$, each $x \in \g_{\alpha}$, and each $m \in \Z$, one has that:
            $$\deg x v^m = \alpha + m\delta$$
        Additionally, let us recall from \cite[Chapter 7]{kac_infinite_dimensional_lie_algebras} that the root space decomposition of the untwisted affine Kac-Moody algebra $\hat{\g}$ takes the form:
            $$\hat{\g} \cong \hat{\h} \oplus \bigoplus_{\beta \in \Re(\hat{\Phi})} \hat{\g}_{\beta} \oplus \bigoplus_{\beta \in \Im(\hat{\Phi})} \hat{\g}_{\beta}$$
        with the root spaces being given by:
            $$\forall \alpha + m\delta \in \Re(\hat{\Phi}): \hat{\g}_{\alpha + m\delta} \cong \g_{\alpha} v^m$$
            $$\forall r\delta \in \Im(\hat{\Phi}): \hat{\g}_{r\delta} \cong \h v^r$$
        In particular, this tells us that real roots are all of multiplicity $1$ (since $\dim_{\bbC} \g_{\alpha} = 1$ for all $\alpha \in \Phi$), while imaginary roots are of multiplicity $l$.
            
        Finally, let us note that $\hat{\g}$ is isomorphic to the Lie algebra generated by a set of \textbf{Chevalley-Serre generators} (cf. \cite[Theorems 1.2, 1.4, and 9.11]{kac_infinite_dimensional_lie_algebras}\footnote{Theorem 9.11 is where the Serre relations for symmetrisable Kac-Moody algebras are established.}). To describe these generators, write:
            $$\alpha_0 := -\theta + \delta$$
        $\hat{\g}$ is then isomorphic to the Lie algebra generated by the set:
            $$\{x_i^{\pm}, h_i\}_{i \in \hat{\simpleroots}}$$
        whose elements are subjected to the same relations as in theorem \ref{theorem: serre_theorem_for_finite_dimensional_simple_lie_algebras} (but now given for $i, j \in \hat{\simpleroots}$); the isomorphism in question is given by
            $$x_0^{\pm} \mapsto x_{\mp \theta} v^{\pm 1}, h_0 \mapsto -\theta^{\vee} + c_v$$
        where the root vectors $x_{\pm \theta} \in \g_{\pm \theta}$ have been chosen so that $(x_{\theta}, x_{-\theta})_{\g} = 1$, per the convention made in subsection \ref{subsection: finite_dimensional_simple_lie_algebras}. As for why the highest root $\theta \in \Phi$ might appear here in the first place, this is simply so that simultaneously, $h_0$ is not central in $\hat{\g}$ (which in particular, would imply that $h_0 \in \bbC c_v$, which is absurd), and that:
            $$
                \begin{aligned}
                    [h_0, x_0^{\pm}]_{\hat{\g}} & = [-\theta^{\vee} + c_v, x_{\mp \theta} v^{\pm 1}]_{\hat{\g}}
                    \\
                    & = [-\theta^{\vee}, x_{\mp \theta} v^{\pm 1}]_{\hat{\g}}
                    \\
                    & = \pm \theta(\theta^{\vee}) x_{\mp \theta} v^{\pm 1}
                    \\
                    & = \pm 2 x_0^{\pm}
                \end{aligned}
            $$
        where the third equality holds because $(-\theta^{\vee}, x_{\mp \theta})_{\g} = 0$. Note also that, indeed, we have that:
            $$[x_0^+, x_0^-]_{\hat{\g}} = -\theta^{\vee} + c_v = h_0$$
        as well as:
            $$
                [h_i, x_0^{\pm}]_{\hat{\g}}
                =
                \begin{cases}
                    \text{$\mp \theta(h_i) x_{\mp \theta} v^{\pm 1}$ if $i \in \simpleroots$}
                    \\
                    \text{$\mp \theta(\theta^{\vee}) x_{\mp \theta} v^{\pm 1}$ if $i = 0$}
                \end{cases}
                =
                \pm (-\theta + \delta)(h_i) x_{\mp \theta} v^{\pm 1} = \pm \alpha_0(h_i) x_{\mp \theta} v^{\pm 1}
            $$
        for all $i \in \hat{\simpleroots}$, with the second-to-last equality holding thanks to the fact that $\delta := (c_v, -)_{\hat{\g}}$ and the fact that $(c_v, \g[v^{\pm 1}])_{\hat{\g}} = (c_v, \g[v^{\pm 1}])_{\uce(\g[v^{\pm 1}])} = 0$; this gives one reason for choosing the single extra simple root to be $-\theta + \delta$. Together, the two observations above give rise to an injective Lie algebra homomorphism:
            $$\sl_2(\bbC) \hookrightarrow \hat{\g}$$
        given by $h_0 \mapsto h, x_0^{\pm} \mapsto x^{\pm}$ (with $h, x^{\pm}$ as in example \ref{example: sl_2}), whose existence is to be expected (cf. \cite[Section 3.3]{kac_infinite_dimensional_lie_algebras}). The second reason is that we would like the \textbf{Chevalley involution}:
            $$\omega \in \Aut_{\Lie\Alg}(\hat{\g})$$
        (cf. \cite[p. 7]{kac_infinite_dimensional_lie_algebras}) to act on the Chevalley-Serre generators by:
            $$\omega(x_i^{\pm}) = -x_i^{\mp}, \omega(h_i) = -h_i$$
        for all $i \in \hat{\simpleroots}$, which forces $h_0 = -\theta^{\vee} + c_v$ and consequently, forces the extra simple root to be $-\theta + \delta$.
        
        \todo[inline]{Added explanation for why the extra simple root of $\hat{\g}$ is $-\theta + \delta$.}

    \subsection{Positive/negative Yangian extended toroidal Lie algebras}
        Now, even though the \say{full} (Yangian extended) toroidal Lie algebras $\toroidal$ and $\extendedtoroidal$ are interesting in their own rights, they are somehow more related to the \say{Yangian double} associated to $\hat{\g}$ (cf. \cite[Subsection 2.3 and Section 6]{wendlandt_formal_shift_operators_on_yangian_doubles}), whereas our interest is towards the \say{Yangian} of $\hat{\g}$, which necessitates us concerning ourselves with certain Lie subalgebras of $\toroidal$ and $\extendedtoroidal$, to be thought of as the \say{positive half} with respect to the variable $t$ of these Lie algebras. 

        To start, let us set:
            $$A^{\positive} := \bbC[v^{\pm 1}, t], A^{\negative} := t^{-1} \bbC[v^{\pm t}, t^{-1}]$$
        using which we can construct the following current algebras (cf. definition \ref{def: current_algebras}):
            $$\g_{[2]}^{\positive/\negative} := \g \tensor_{\bbC} A^{\positive/\negative}$$
        These Lie algebras are \textit{a priori} perfect, so they admit UCEs (cf. theorem \ref{theorem: kassel_realisation}), which shall be referred to as the \textbf{positive/negative toroidal Lie algebras}\footnote{We have already discussed the Lie algebra $\toroidal^{\positive}$ briefly in example \ref{example: toroidal_lie_algebras_centres}.} associated to $\g$:
            $$\toroidal^{\positive/\negative} := \uce(\g_{[2]}^{\positive/\negative})$$
        and let us write:
            $$\z_{[2]}^{\positive/\negative} := \z(\toroidal^{\positive/\negative})$$
        to mean their centres. Per remark \ref{remark: Z_gradings_on_toroidal_lie_algebras}, we have the following identifications of these centres:
            $$\z_{[2]}^{\positive} \cong ( \bigoplus_{(r, s) \in \Z \x \Z_{> 0} } \bbC K_{r, s} ) \oplus \bbC c_v$$
            $$\z_{[2]}^{\negative} \cong ( \bigoplus_{(r, s) \in \Z \x \Z_{\leq 0}} \bbC K_{r, s}) \oplus \bbC c_t$$
        and it can also be seen that:
            $$\z_{[2]} \cong \z_{[2]}^{\positive} \oplus \z_{[2]}^{\negative}$$
        and since we already have by construction that $\g_{[2]} \cong \g_{[2]}^{\positive} \oplus \g_{[2]}^{\negative}$, the above implies that:
            $$\toroidal \cong \toroidal^{\positive} \oplus \toroidal^{\negative}$$
        
        Next, in order to split the Lie algebra:
            $$\extendedtoroidal := \toroidal \rtimes \divzero$$
        let us make the following constructions:
        \begin{itemize}
            \item
                $$\divzero^{\positive} := ( \bigoplus_{(r, s) \in \Z \x \Z_{\leq 0} } \bbC D_{r, s} ) \oplus \bbC D_t$$
                $$\divzero^{\negative} := ( \bigoplus_{(r, s) \in \Z \x \Z_{> 0} } \bbC D_{r, s} ) \oplus \bbC D_v$$
            shall respectively be the \textit{vector subspaces}\footnote{Not yet Lie subalgebras!} of $\divzero$ which are graded-dual to $\z_{[2]}^{\positive/\negative}$ with respect to $(-, -)_{\extendedtoroidal}$;
            \item
                $$\extendedtoroidal^{\positive/\negative} := \toroidal^{\positive/\negative} \oplus \divzero^{\positive/\negative}$$
        \end{itemize}

        \todo[inline]{Added explanation for the assumption that $\extendedtoroidal \cong \toroidal \rtimes \divzero$.}
        \begin{remark}[Why must we work only with $\extendedtoroidal := \toroidal \rtimes \divzero$ ?] \label{remark: why_yangian_toroidal_semi_direct_product}
            These constructions give rise to two orthogonally complementary Lie subalgebras of $\extendedtoroidal$ that we will make use of to establish a triangular decomposition for $\extendedtoroidal$ (cf. proposition \ref{prop: triangular_decomposition_of_extended_toroidal_lie_algebras}), provided that we make the assumption that:
                $$\extendedtoroidal \cong \toroidal \rtimes \divzero$$
            from now on. Our reasoning for making this assumption is that, without it, it is not clear (perhaps not even guaranteed) that given $D, D' \in \divzero^{\positive/\negative}$, we would then also have:
                $$[D, D']_{\extendedtoroidal} \in \divzero^{\positive/\negative}$$
            as we only know \textit{a priori} that $[D, D']_{\extendedtoroidal} \in \divzero^{\positive/\negative} \oplus \z_{[2]}$, not even whether or not it is true that $[D, D']_{\extendedtoroidal} \in \divzero^{\positive/\negative} \oplus \z_{[2]}^{\positive/\negative}$ (cf. remark \ref{remark: yangian_criterion_for_toroidal_cocycles}). In other words, without the assumption, it is not clear that $\divzero^{\positive/\negative}$ would be Lie subalgebras of $\divzero$, and consequently, whether or not the vector spaces $\extendedtoroidal^{\positive/\negative}$ would be Lie subalgebras of $\extendedtoroidal$ (as it is already known that the vector spaces $\toroidal^{\positive/\negative}$ are Lie subalgebras of $\toroidal$). Equivalently, we can think of the following: if $\sigma \not = 0$ is a Yangian toroidal $2$-cocycle and $\fraky(\sigma) := \toroidal \rtimes^{\sigma} \divzero$ is the corresponding extension, then per proposition \ref{prop: twisted_semi_direct_product_criterion}, we have that:
                $$[D, D']_{\fraky(\sigma)} = [D, D']_{\divzero} + \sigma(D, D')$$
            for all $D, D' \in \divzero$, but although we know that:
                $$\sigma(D, D') \in \z_{[2]}$$
            necessarily (cf. corollary \ref{coro: 2_cocycles_are_central} and proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}), it is still not clear what $\deg \sigma(D, D')$ is \textit{a priori}, and hence not clear whether $\sigma(\divzero^{\positive/\negative}, \divzero^{\positive/\negative}) \subseteq \divzero^{\positive/\negative}$.
            
            If we do assume that $\extendedtoroidal \cong \toroidal \rtimes \divzero$, on the other hand, then through lemma \ref{lemma: positive/negative_yangian_extended_toroidal_lie_algebras}, we shall see that indeed, the vector spaces $\extendedtoroidal^{\positive/\negative}$ are closed under $[-, -]_{\extendedtoroidal}$ and hence are Lie subalgebras of $\extendedtoroidal$. 
        \end{remark}
        
        \begin{lemma}[Positive/negative Yangian extended toroidal Lie algebras] \label{lemma: positive/negative_yangian_extended_toroidal_lie_algebras}
            The vector spaces $\extendedtoroidal^{\positive/\negative}$ are Lie subalgebras of $\extendedtoroidal$ with respect to the Lie bracket $[-, -]_{\extendedtoroidal}$.
        \end{lemma}
            \begin{proof}
                Given how $\divzero$ acts on $\g_{[2]}$ and on $\z_{[2]}$ (cf. lemmas \ref{lemma: derivation_action_on_multiloop_algebras} and \ref{lemma: derivation_action_on_toroidal_centres} respectively), which implies in particular that:
                    $$[\divzero, \toroidal^{\positive/\negative}] \subseteq \toroidal^{\positive/\negative}$$
                it shall suffice to only demonstrate that the vector spaces $\divzero^{\positive/\negative}$ are Lie subalgebras of $\divzero$ in order to show that $\extendedtoroidal^{\positive/\negative}$ are Lie subalgebras of $\extendedtoroidal$. To do this, it suffices to verify that:
                    $$(r, s) \in \Z \x \Z_{\leq 0} \implies [D_{r, s}, D_t] \in \divzero^{\positive}$$
                    $$(r, s) \in \Z \x \Z_{> 0} \implies [D_{r, s}, D_v] \in \divzero^{\negative}$$
                for which we rely on the assumption that:
                    $$\extendedtoroidal \cong \toroidal \rtimes \divzero$$
                This can be inferred from the explicit computations done in the proof of lemma \ref{lemma: commutators_of_yangian_div_zero_vector_fields}.
            \end{proof}

    \subsection{Root grading and triangular decomposition for Yangian extended toroidal Lie algebras}
        \begin{proposition}[Induced $\hat{Q}$-grading on $\extendedtoroidal$] \label{prop: root_grading_on_extended_toroidal_lie_algebras}
            Define the following grading on $\toroidal$\footnote{Note that we can not simply define a grading on $\g_{[2]}$ alone, since $[\g_{[2]}, \g_{[2]}]_{\toroidal} \not \subset \g_{[2]}$.}, naturally induced by the natural $Q \x \Z$-grading on $\g$.
            
            Firstly, let us declare that:
                $$\deg x v^m t^p := (\alpha, m)$$
            for all $\alpha \in \Phi$, all $x \in \g_{\alpha}$, and all $(m, p) \in \Z^2$. This defines a $Q \x \Z$-grading on $\g_{[2]}$. 
            
            If we are to extend the $Q \x \Z$-grading on $\toroidal$ as above to $\extendedtoroidal$ then the Lie bracket $[-, -]_{\extendedtoroidal}$ ought to be $Q \x \Z$-graded in a compatible manner. Given the adjoint actions of the derivations $D_{r, s}, D_v, D_t$ on the monomials $x v^m t^p \in \g_{[2]}$ (in particular, how said actions affect the $Q \x \Z$-degrees of said monomials; cf. lemma \ref{lemma: derivation_action_on_multiloop_algebras}), let us declare that:
                $$\forall (r, s) \in \Z^2: \deg D_{r, s} := (0, -r)$$
                $$\deg D_v = \deg D_t := (0, 0)$$
            We would also like the bilinear form $(-, -)_{\extendedtoroidal}$ to be of total degree $(0, 0)$, which forces:
                $$\forall (r, s) \in \Z^2: \deg K_{r, s} := (0, r)$$
                $$\deg c_v = \deg c_t := (0, 0)$$
        \end{proposition}
            \begin{proof}
                Let us check whether the constructed $Q \x \Z$-grading on $\extendedtoroidal$ is well-defined.
    
                Firstly, let us check that the grading is well-define on $\toroidal := \g_{[2]} \oplus \z_{[2]}$. To this end, pick $x, y \in \g$ and that $x \in \g_{\alpha}, y \in \g_{\beta}$ for some $\alpha, \beta \in \Phi \cup \{0\}$; also, choose some arbitrary $(m, p), (n, q) \in \Z^2$. Next, consider:
                    $$
                        \begin{aligned}
                            [x v^m t^p, y v^n t^q]_{\toroidal} & = [x, y]_{\g} v^{m + n} t^{p + q} + (x, y)_{\g} v^n t^p \bar{d}(v^m t^p)
                            \\
                            & = [x, y]_{\g} v^{m + n} t^{p + q} + (x, y)_{\g} \delta_{(m, p) + (n, q), (0, 0)} ( n c_v + q c_t ) + (np - mq) K_{m + n, p + q}
                        \end{aligned}
                    $$
                (cf. example \ref{example: toroidal_lie_algebras_centres}). Now, note that if either:
                    $$\alpha + \beta = 0, \alpha \not = 0$$
                or:
                    $$\alpha = \beta = 0$$
                (i.e. $x, y \in \h$) then:
                    $$[x, y] \in \h$$
                and hence:
                    $$\deg [x, y]_{\g} v^{m + n} t^{p + q} = \deg K_{m + n, p + q} = (0, m + n)$$
                On the other hand, if:
                    $$\alpha + \beta \not = 0$$
                then:
                    $$[x, y] \in \n^- \oplus \n^+$$
                which means in particular that at leeast either $x$ or $y$ is nilpotent under the vector representation of $\g$, and hence:
                    $$(x, y)_{\g} = 0$$
                as $(-, -)_{\g}$ is some non-zero multiple of the trace form, and traces of nilpotent matrices are equally $0$. Hence, in this case, we have that:
                    $$\deg [x v^m t^p, y v^n t^q]_{\toroidal} = \deg [x, y]_{\g} v^{m + n} t^{p + q} = (\alpha + \beta, m + n)$$
                Both cases together show that the constructed $Q \x \Z$-grading on $\toroidal$ is well-defined. 
                
                Secondly, note that from how commutators of elements of $\divzero := \bigoplus_{(r, s) \in \Z^2} \bbC D_{r, s} \oplus \bbC D_v \oplus \bbC D_t$ are given (cf. lemma \ref{lemma: commutators_of_yangian_div_zero_vector_fields}), one sees that:
                    $$\deg [D_v, D_t] = (0, 0) = \deg D_v + \deg D_t$$
                    $$\deg [D_v, D_{r, s}] = (0, -r) = \deg D_v + \deg D_{r, s}$$
                    $$\deg [D_t, D_{r, s}] = (0, -r) = \deg D_t + \deg D_{r, s}$$
                    $$\deg [D_{a, b}, D_{r, s}] = \deg D_{a + r, b + s + 1} = (0, -(a + r)) = \deg D_{a, b} + \deg D_{r, s}$$
                Thus, the constructed grading is well-defined on $\divzero$. Recall also from proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre} that:
                    $$[\divzero, \divzero]_{\extendedtoroidal} \subseteq \z_{[2]} \oplus \divzero$$
                with the $\divzero$-summand being the usual commutator of derivations $[-, -]$ inherited from $\der_{k}(A)$, while the $\z_{[2]}$-summand is undetermined, but can be viewed as twist of $[-, -]$ by a cocycle $\sigma \in H^2_{\Lie}(\divzero, \z_{[2]})$ (cf. remark \ref{remark: yangian_criterion_for_toroidal_cocycles}). For this reason, we can and must choose the restriction of $[-, -]_{\extendedtoroidal}$ down to $\divzero$ to be the usual commutator $[-, -]$ for the construction of our $Q \x \Z$-grading. 
            \end{proof}

        The following is a corollary to proposition \ref{prop: root_grading_on_extended_toroidal_lie_algebras}. One can see it to be true simply by looking at the degrees of elements of $\extendedtoroidal$. 
        \begin{theorem}[Root grading for Yangian extended toroidal Lie algebras] \label{theorem: root_grading_for_extended_toroidal_lie_algebras}
            The weight spaces of the adjoint action of $\hat{\g}$ on $\extendedtoroidal$ can be given explicitly in terms of the basis elements of the latter in the following manner:
                $$
                    \forall r \in \Z \setminus \{0\}: \extendedtoroidal_{r\delta} \cong \hat{\g}_{r\delta} \tensor_{\bbC} \bbC[t^{\pm 1}] \oplus \bigoplus_{s \in \Z} ( \bbC K_{r, s} \oplus \bbC D_{-r, s} )
                $$
                $$\extendedtoroidal_0 \cong \h \oplus (\bbC c_v \oplus \bbC c_t) \oplus (\bbC D_v \oplus \bbC D_t)$$
            Furthermore, $\extendedtoroidal$ is a weight module of $\hat{\g}$, i.e.:
                $$\extendedtoroidal \cong \bigoplus_{\beta \in \hat{\Phi} \cup \{0\}} \extendedtoroidal_{\beta}$$
        \end{theorem}
        \begin{corollary}[$\hat{Q}$-grading on $\extendedtoroidal^{\positive/\negative}$] \label{coro: root_grading_on_positive_and_negative_extended_toroidal_lie_algebras}
            Recall the triple of Lie algebras:
                $$\extendedtoroidal, \extendedtoroidal^{\positive}, \extendedtoroidal^{\negative}$$
            from lemma \ref{lemma: positive/negative_yangian_extended_toroidal_lie_algebras}. Via theorem \ref{theorem: root_grading_for_extended_toroidal_lie_algebras}, we see that the Lie subalgebras $\extendedtoroidal^{\positive/\negative}$ admit the following weight space decompositions, when regarded as $\hat{\g}$-modules of $\extendedtoroidal$:
                $$\extendedtoroidal^{\positive/\negative} \cong \bigoplus_{\beta \in \hat{\Phi} \cup \{0\}} \extendedtoroidal^{\positive/\negative}_{\beta}$$
            where, for each $\beta \in \hat{\Phi}$, we have written:
                $$\extendedtoroidal^{\positive/\negative}_{\beta} := \extendedtoroidal^{\positive/\negative} \cap \extendedtoroidal_{\beta}$$
            Explicitly, the weight spaces are given as follows:
            \todo[inline]{Fixed some typos in the descriptions of the $\hat{\g}$ weight spaces of $\extendedtoroidal^{\positive/\negative}$.}
                $$
                    \forall (\alpha, m) \in \Phi \x \Z:
                    \begin{cases}
                        \extendedtoroidal^{\positive}_{\alpha + m\delta} \cong \hat{\g}_{\alpha + m\delta} \tensor_{\bbC} \bbC[t]
                        \\
                        \extendedtoroidal^{\negative}_{\alpha + m\delta} \cong \hat{\g}_{\alpha + m\delta} \tensor_{\bbC} t^{-1}\bbC[t^{-1}]
                    \end{cases}
                $$
                $$
                    \forall r \in \Z \setminus \{0\}:
                    \begin{cases}
                        \text{$\extendedtoroidal^{\positive}_{r\delta} \cong \hat{\g}_{r\delta} \tensor_{\bbC} \bbC[t] \oplus \bigoplus_{s \in \Z_{\leq 0}} (\bbC K_{r, s} \oplus \bbC D_{-r, s})$ if $r > 0$}
                        \\
                        \text{$\extendedtoroidal^{\positive}_{r\delta} \cong \hat{\g}_{r\delta} \tensor_{\bbC} \bbC[t]$ if $r < 0$}
                    \end{cases}
                $$
                $$
                    \forall r \in \Z \setminus \{0\}:
                    \begin{cases}
                        \text{$\extendedtoroidal^{\positive}_{r\delta} \cong \hat{\g}_{r\delta} \tensor_{\bbC} t^{-1}\bbC[t^{-1}]$ if $r > 0$}
                        \\
                        \text{$\extendedtoroidal^{\negative}_{r\delta} \cong \hat{\g}_{r\delta} \tensor_{\bbC} t^{-1}\bbC[t^{-1}] \oplus \bigoplus_{s \in \Z_{> 0}} (\bbC K_{r, s} \oplus \bbC D_{-r, s})$ if $r < 0$}
                    \end{cases}
                $$
                $$\extendedtoroidal^{\positive}_0 \cong \h \oplus \bbC c_v \oplus \bbC D_t$$
                $$\extendedtoroidal^{\negative}_0 \cong \h \oplus \bbC c_t \oplus \bbC D_v$$
        \end{corollary}
        
        \begin{remark} \label{remark: toroidal_root_systems}
            The $\hat{Q}$-grading of $\extendedtoroidal$ as in theorem \ref{theorem: root_grading_for_extended_toroidal_lie_algebras} induces pairings of weight spaces in the following manner.
            \begin{enumerate}
                \item  Firstly, note that for each real root:
                    $$\alpha + m\delta \in \Re(\hat{\Phi})$$
                the corresponding root spaces:
                    $$\extendedtoroidal_{\alpha + m\delta}$$
                are free and of rank $1$ over $\bbC[t^{\pm 1}]$, in good analogy with how real roots of an affine Kac-Moody algebras are equally of multiplicity $1$.

                If we fix:
                    $$(\alpha, m, p), (\beta, n, q) \in \Phi \x \Z^2$$
                along with root vectors:
                    $$x_{\alpha} \in \g_{\alpha}, x_{\beta} \in \g_{\beta}$$
                then:
                    $$( x_{\alpha} v^m t^p, x_{\beta} v^n t^q )_{\extendedtoroidal} = \delta_{(\alpha, m, p) + (\beta, n, q), (0, 0, -1)}$$
                This suggest to us that for each positive real root:
                    $$\alpha + m\delta \in \hat{\Phi}^+ \cong \Phi^+ \x \Z_{\geq 0}$$
                one has the following non-trivial pairing of subspaces:
                    $$\left( \extendedtoroidal^{\negative}_{\mp (\alpha + m\delta)}, \extendedtoroidal^{\positive}_{\pm (\alpha + m\delta)} \right)_{\extendedtoroidal} \not = 0$$
                \item Observe that weight-$0$ subspace:
                    $$\extendedtoroidal_0$$
                is finite-dimensional, namely of dimension $\dim_{k} \h + 2 + 2$, with each summand of $2$ corresponding to one of the direct summands $\bbC c_v \oplus \bbC D_v$ and $\bbC c_t \oplus \bbC D_t$ of $\extendedtoroidal_0$, similar to how:
                    $$\dim_{k} \hat{\h} = \dim_{k} \h + 2$$
                in the affine Kac-Moody case, where the summand of $2$ corressponds to the direct summand of the $1$-dimensional centre and the subspace spanned by the canonical degree derivation. From this, we infer that $\extendedtoroidal$ ought to admit two distinct weights:
                    $$\delta_v := (c_v, -)_{\extendedtoroidal}, \delta_t := (c_t, -)_{\extendedtoroidal}$$
                i.e. they are dual to the central elements $c_v, c_t$ under the vector space isomorphism $\extendedtoroidal_0 \xrightarrow[]{\cong} \extendedtoroidal_0^*$ given by $H \mapsto (H, -)_{\extendedtoroidal}$. Note that because:
                    $$(\divzero, \divzero)_{\extendedtoroidal} = 0$$
                per the construction of the bilinear form $(-, -)_{\extendedtoroidal}$, we have that:
                    $$(\delta_v, \delta_v)_{\extendedtoroidal} = (\delta_t, \delta_t)_{\extendedtoroidal} = 0$$

                Note also that, once again because $(\divzero, \divzero)_{\extendedtoroidal} = 0$, we also have that:
                    $$(\delta_v, \delta_t)_{\extendedtoroidal} = 0$$
            \end{enumerate}
        \end{remark}
        
        The following result is nothing but a formal consequence of the discussion above.
        \begin{proposition}[Triangular decomposition for Yangian extended toroidal Lie algebras] \label{prop: triangular_decomposition_of_extended_toroidal_lie_algebras}
            With notations as in remark \ref{remark: toroidal_root_systems}, let us set:
                $$\extendedtoroidal_{\up/\low} := \bigoplus_{\beta \in \hat{Q}^{\pm} \x \Z} \extendedtoroidal_{\beta}$$
            The $\hat{Q}$-grading of the Lie algebra $\extendedtoroidal$ (respectively, of $\extendedtoroidal^{\positive/\negative}$) induces triangular decompositions thereof as follows:
                $$\extendedtoroidal \cong \extendedtoroidal_{\low} \oplus \extendedtoroidal_0 \oplus \extendedtoroidal_{\up}$$
                $$\extendedtoroidal^{\positive/\negative} \cong \extendedtoroidal^{\positive/\negative}_{\low} \oplus \extendedtoroidal^{\positive/\negative}_0 \oplus \extendedtoroidal^{\positive/\negative}_{\up}$$
        \end{proposition}