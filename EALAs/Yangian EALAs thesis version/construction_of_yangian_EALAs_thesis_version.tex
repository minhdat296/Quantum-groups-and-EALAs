\section{Construction of \texorpdfstring{$\gamma$}{}-extended toroidal Lie algebras}
    \subsection{\texorpdfstring{$\gamma$}{}-divergence-zero vector fields} \label{subsection: yangian_div_zero_vector_fields}
        \begin{definition}[$\gamma$-divergence-zero vector fields] \label{def: yangian_div_zero_vector_fields}
            Let $\divzero$ be the vector subspace of $\der(A)$ defined as follows:
                $$\divzero := \{ D \in \der(A) \mid \forall f \in A: \gamma(D(f)) = 0 \}$$
            Elements of this vector space shall be referred to as \textbf{$\gamma$-divergence-zero vector fields}.
        \end{definition}
        \begin{remark}
            \todo[inline]{Explain the terminology of $\gamma$-divergence-zero vector fields.}
        \end{remark}

        \todo[inline]{Packaged all the basic properties of $\divzero$ into one lemma.}
        \begin{lemma}[Basic properties of $\gamma$-divergence-zero vector fields] \label{lemma: yangian_div_zero_vector_fields_basic_properties}
            \begin{enumerate}
                \item $\divzero$ is a Lie subalgebra of $\der(A)$ (with the usual commutator bracket).
                \item $\divzero$ admits the following subset as a basis:
                    $$\{D_{r, s}\}_{(r, s) \in \Z^2} \cup \{D_v, D_t\}$$
                Its elements are given in terms of the partial derivatives $\del_v := \frac{\del}{\del v}$ and $\del_t := \frac{\del}{\del t}$ by:
                    $$D_{r, s} := -s v^{-r + 1} t^{-s - 1} \del_v + r v^{-r} t^{-s} \del_t$$
                    $$D_v := -v t^{-1} \del_v$$
                    $$D_t := -\del_t$$
                \item The basis elements of $\divzero$ satify the following commutation relations:
                    $$[D_v, D_t] = 0$$
                    $$[D_v, D_{r, s}] = -r D_{r, s + 1}$$
                    $$[D_t, D_{r, s}] = -s D_{r, s + 1}$$
                    $$[D_{a, b}, D_{r, s}] = (br - as) D_{a + r, b + s + 1}$$
            \end{enumerate}
        \end{lemma}
            \begin{proof}
                \begin{enumerate}
                    \item To show that $\divzero$ is a Lie subalgebra of $\der(A)$ with respect to the usual commutator bracket, simply consider the following, where $D, D' \in \divzero$ and $f \in A$ are arbitrary:
                        $$\gamma( [D, D'](f) ) = \gamma( D(D'(f)) - \gamma( D'(D(f)) ) = 0$$
                    which holds per the very definition of $\divzero$ itself.
                    \item Any element $D \in \divzero$ is, of course, an element of $\der(A) \cong A \del_v \oplus A \del_t$, and hence can be written as:
                        $$D := \sum_{(a, b) \in \Z^2} \left( \lambda_{a, b} v^a t^b \del_v + \mu_{a, b} v^a t^b \del_t \right)$$
                    for some $\lambda_{a, b}, \mu_{a, b} \in \bbC$. Consider then the following, where $f \in A$ is arbitrary:
                        $$0 =\gamma(D(f)) = \sum_{(a, b) \in \Z^2} \left( \lambda_{a, b} \gamma(v^r t^s \del_v f) + \mu_{a, b} \gamma(v^a t^b \del_t f) \right)$$
                    Without any loss of generality, we can take $f \in A$ to be a basis element, i.e. $f := v^m t^p$ for some $(m, p) \in \Z^2$. Doing so yields:
                        $$
                            \begin{aligned}
                                0 & = \sum_{(a, b) \in \Z^2} \left( \lambda_{a, b} \gamma(v^a t^b \del_v(v^m t^p)) + \mu_{a, b} \gamma(v^a t^b \del_t(v^m t^p)) \right)
                                \\
                                & = \sum_{(a, b) \in \Z^2} \left( m\lambda_{a, b} \gamma(v^{a + m - 1} t^{b + p}) + p \mu_{a, b} \gamma( v^{a + m} t^{b + p - 1} ) \right)
                                \\
                                & = -\sum_{(a, b) \in \Z^2} \left( m \lambda_{a, b} \delta_{(a + m - 1, b + p), (0, -1)} + p \mu_{a, b} \delta_{(a + m, b + p - 1), (0, -1)} \right)
                                \\
                                & = -\sum_{(a, b) \in \Z^2} \left( m \lambda_{a, b} \delta_{(a + m, b + p), (1, -1)} + p \mu_{a, b} \delta_{(a + m, b + p), (0, 0)} \right)
                                \\
                                & = -\left( m \lambda_{-m + 1, -p - 1} + p \mu_{-m, -p} \right)
                            \end{aligned} 
                        $$
                    for all $(m, p) \in \Z^2$. From this, one sees that:
                        $$D = \sum_{(r, s) \in \Z^2} \lambda_{r, s} D_{r, s} + \lambda_v D_v + \lambda_t D_t$$
                    for some $\lambda_{r, s}, \lambda_v, \lambda_t \in \bbC$, where:
                        $$D_{r, s} := -s v^{-r + 1} t^{-s - 1} \del_v + r v^{-r} t^{-s} \del_t$$
                        $$D_v := -v t^{-1} \del_v$$
                        $$D_t := -\del_t$$
                    These elements are clearly linearly independent, so we are done.
                    \item Next, let us compute the commutation relations satisfied by the basis elements of $\divzero$.
                    \begin{enumerate}
                        \item Since we know that:
                            $$D_v = -vt^{-1} \del_v, D_t = -\del_t$$
                        (cf. lemma \ref{lemma: yangian_div_zero_vector_fields_basic_properties}), it is therefore trivial that:
                            $$[D_v, D_t] = 0$$
                        \item From lemma \ref{lemma: yangian_div_zero_vector_fields_basic_properties}, we know that:
                            $$D_v(v^m t^p) = -m v^m t^{p - 1}$$
                            $$D_{r, s}(v^m t^p) = ( rp - ms ) v^{m - r} t^{p - s - 1}$$
                        From this, we infer that:
                            $$
                                \begin{aligned}
                                    & [D_v, D_{r, s}](v^m t^p)
                                    \\
                                    = & D_v( D_{r, s}(v^m t^p) ) - D_{r, s}( D_v(v^m t^p) )
                                    \\
                                    = & (rp - ms) D_v( v^{m - r} t^{p - s - 1} ) + m D_{r, s}( v^m t^{p - 1} )
                                    \\
                                    = & -(m - r)(rp - ms) v^{m - r} t^{p - s - 2} + (ms - r(p - 1)) m v^{m - r} t^{p - s - 2}
                                    \\
                                    = & -r(rp - m(s + 1)) v^{m - r} t^{p - (s + 1) - 1}
                                    \\
                                    = & -r D_{r, s + 1}(v^m t^p)
                                \end{aligned}
                            $$
                        and hence:
                            $$[D_v, D_{r, s}] = -r D_{r, s + 1}$$
                        \item Likewise, we have that:
                            $$[D_t, D_{r, s}] = -s D_{r, s + 1}$$
                        \item Using the same method, we can show that:
                            $$[D_{a, b}, D_{r, s}] = (br - as) D_{a + r, b + s + 1}$$
                    \end{enumerate}
                \end{enumerate}
            \end{proof}
        \begin{corollary}[$\Z^2$-grading on $\gamma$-divergence-zero vector fields] \label{coro: yangian_div_zero_vector_fields_are_graded}
            $\divzero$ is a $\Z^2$-graded Lie subalgebra of the $\Z^2$-graded Lie algebra $\der(A)$\footnote{See remark \ref{remark: free_modules_of_1_forms} for a description of the standard $\Z^2$-grading on $\der(A)$ coming from the one on $A$.}. Namely, the grading on $\divzero$ is given by\footnote{The reason for this choice of grading will become clear after proposition \ref{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}, which asserts that $\divzero \cong \z(\toroidal)^{\star}$ as $\Z^2$-graded vector spaces; recall that the latter has a natural $\Z^2$-grading given by $\deg K_{r, s} = (r, s), \deg c_v = \deg c_t = 0$.}:
                $$\deg D_{r, s} := (-r, -s - 1)$$
                $$\deg D_v = \deg D_t = (0, -1)$$
        \end{corollary}

        \todo[inline]{Showed that $\divzero \cong \z(\toroidal)^{\star}$ as $\Z^2$-graded vector spaces (lemma 1.4 in \lstinline{Ch2_revamped}).}
        \begin{proposition}[$\gamma$-divergence-zero vector fields are graded-dual to toroidal centre] \label{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}
            There is a $\Z^2$-graded vector space isomorphism:
                $$\varphi: \divzero \xrightarrow[]{\cong} \z(\toroidal)^{\star}$$
            determined by:
                $$\varphi(D)( f\bar{d}g ) := \gamma( f D(g) )$$
            for all $D \in \divzero$. This identifies the basis $\{D_{r, s}\}_{(r, s) \in \Z^2} \cup \{D_v, D_t\}$ of $\divzero$ as being $\Z^2$-graded dual to the basis $\{K_{r, s}\}_{(r, s) \in \Z^2} \cup \{c_v, c_t\}$ of $\z(\toroidal)$.
        \end{proposition}
            \begin{proof}
                First of all, let us prove that $\varphi: \divzero \xrightarrow[]{\cong} \z(\toroidal)^{\star}$ as given is graded, and it is enough to check this on the basis elements: we claim that, because:
                    $$\deg D_{r, s} = (-r, -s - 1)$$
                    $$\deg D_v = \deg D_t = (0, 0)$$
                (cf. corollary \ref{coro: yangian_div_zero_vector_fields_are_graded}) and because:
                    $$\deg K_{a, b} = (a, b)$$
                    $$\deg c_v = \deg c_t = (0, 0)$$
                (cf. remark \ref{remark: Z^2_grading_on_toroidal_centres}), we ought to have that:
                    $$\varphi(D_{r, s})(K_{a, b}) = \delta_{(a - r, b - s - 1), (-1, -1)}$$
                    $$\varphi(D_v)(c_v) = \varphi(D_t)(c_t) = 1$$
                for $D_{r, s}, D_v, D_t$ to be identified - respectively - as $\Z^2$-graded dual basis elements corresponding to $K_{r, s}, c_v, c_t$; a straightforward dimension argument will then show that $\varphi$ must be a vector space isomorphism. Indeed, we have that:
                    $$
                        \begin{aligned}
                            \varphi(D_{r, s})(K_{a, b}) & = 
                            \begin{cases}
                                \text{$\gamma\left( \frac1b v^{a - 1} t^b D_{r, s}(v) \right)$ if $(a, b) \in \Z \x (\Z \setminus \{0\})$}
                                \\
                                \text{$\gamma\left( -\frac1a v^a t^{-1} \bar{d}t \right)$ if $(a, b) \in (\Z \setminus \{0\}) \x \{0\}$}
                                \\
                                \text{$0$ if $(a, b) = (0, 0)$}
                            \end{cases}
                            \\
                            & = 
                            \begin{cases}
                                \text{$\gamma\left( -\frac{s}{b} v^{a - r} t^{b - s - 1} \right)$ if $(a, b) \in \Z \x (\Z \setminus \{0\})$}
                                \\
                                \text{$\gamma\left( -\frac{r}{a} v^{a - r} t^{-s - 1} \right)$ if $(a, b) \in (\Z \setminus \{0\}) \x \{0\}$}
                                \\
                                \text{$0$ if $(a, b) = (0, 0)$}
                            \end{cases}
                            \\
                            & = \delta_{(a - r, b - s - 1), (-1, -1)}
                        \end{aligned}
                    $$
                as well as:
                    $$\varphi(D_v)(c_v) = \gamma(v^{-1} D_v(v)) = \gamma( -t^{-1} ) = 1$$
                    $$\varphi(D_t)(c_t) = \gamma(t^{-1} D_t(t)) = \gamma( -t^{-1} ) = 1$$
                Since:
                    $$\divzero \cong \bigoplus_{(r, s) \in \Z^2} \bbC D_{r, s} \oplus \bbC D_v \oplus \bbC D_t$$
                    $$\z(\toroidal)^{\star} \cong \bigoplus_{(r, s) \in \Z^2} (\bbC K_{r, s})^* \oplus (\bbC c_v)^* \oplus (\bbC c_t)^*$$
                the computations above are enough to show that:
                    $$\varphi: \divzero \to \z(\toroidal)^{\star}$$
                as given is a vector space isomorphism.
            \end{proof}
        \begin{corollary}[Lie brackets on graded-duals of the toroidal centres] \label{coro: lie_bracket_on_graded_dual_of_toroidal_centres}
            $\z(\toroidal)^{\star}$ is naturally a Lie algebra via the vector space isomorphism $\varphi: \divzero \xrightarrow[]{\cong} \z(\toroidal)^{\star}$.
        \end{corollary}
        \begin{corollary}[Non-degenerate bilinear forms on $\z(\toroidal) \oplus \divzero$ and on $\toroidal \oplus \divzero$] \label{coro: pairing_yangian_div_zero_vector_fields_and_cyclic_1_forms}
            There is a non-degenerate symmetric bilinear form $(-, -)_{\varphi}$ on the vector space $\z(\toroidal) \oplus \divzero$, given by:
                $$(K, D)_{\varphi} := \varphi(D)(K)$$
                $$(K, K')_{\varphi} = (D, D')_{\divzero} := 0$$
            for all $K, K' \in \z(\toroidal), D, D' \in \divzero$.

            This extends to a non-degenerate and symmetric bilinear form $(-, -)_{\toroidal \oplus \divzero}$ on $\toroidal \oplus \divzero$, given by:
                $$
                    \begin{aligned}
                        & ( X + D, Y + D' )_{\toroidal \oplus \divzero}
                        \\
                        := & (X, Y)_{\toroidal} + ( \pi_{\z(\toroidal)}(X), D' )_{\varphi} + ( \pi_{\z(\toroidal)}(Y), D )_{\varphi}
                        \\
                        = & (X, Y)_{\toroidal} + \varphi(D')( \pi_{\z(\toroidal)}(X) ) + \varphi(D)( \pi_{\z(\toroidal)}(Y) )
                    \end{aligned}
                $$
            for all $X, Y \in \toroidal$ and all $D, D' \in \divzero$, where $\pi_{\z(\toroidal)}: \toroidal \to \z(\toroidal)$ denotes the canonical projection. This bilinear form itself extends the bilinear form $(-, -)_{\toroidal}$ on $\toroidal$, and it is related to the bilinear form $(-, -)_{\toroidal \oplus \z(\toroidal)^{\star}}$ from proposition \ref{prop: extended_toroidal_bilinear_form} by:
                $$(-, -)_{\toroidal \oplus \divzero} = (-, -)_{\toroidal \oplus \z(\toroidal)^{\star}} \circ ( \id_{\toroidal} \oplus \varphi )^{\tensor 2}$$
        \end{corollary}
        \begin{remark}
            Note that the pairing $(-, -)_{\varphi}$ as in corollary \ref{coro: pairing_yangian_div_zero_vector_fields_and_cyclic_1_forms}, when regarded as an element of $\z(\toroidal) \tensor_{\bbC} \z(\toroidal)^{\star}$, which has a canonical $\Z^2$-grading coming from those on $\z(\toroidal)$ and $\z(\toroidal)^{\star}$, has total degree $-1$ due to the choice of $\Z^2$-grading on $\divzero$ (and hence on $\z(\toroidal)^{\star}$, thanks to proposition \ref{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}) that was made in corollary \ref{coro: yangian_div_zero_vector_fields_are_graded}. Because $(-, -)_{\g_{[2]}}$ is also of total degree $-1$ (by construction), the bilinear form $(-, -)_{\toroidal \oplus \divzero}$ is also of total degree $-1$.
        \end{remark}

    \subsection{Statement of the main theorem}
        \todo[inline]{$\divzero$-action on $\toroidal$. Previously a convention, now a lemma, to show well-definiteness.}
        \begin{lemma}[A $\divzero$-action on $\toroidal$] \label{lemma: a_fixed_yangian_div_zero_vector_field_action} 
            There is a $\der(A)$-module structure on $\toroidal$:
                $$\rho: \der(A) \to \der(\toroidal)$$
            by Lie derivations (cf. definition \ref{def: lie_derivations}), given explicitly on the generators $xf \in \g_{[2]}$ (for any $x \in \g$ and $f \in A$) and $g \bar{d}f \in \z(\toroidal)$ (for any $f, g \in A$) by:
                $$\rho(D)( xf ) := x D(f)$$
                $$\rho( g\bar{d}f ) := D(g) \bar{d}f + g \bar{d}(D(f))$$
            for all $D \in \der(A)$.
            
            Because $\divzero$ is a Lie subalgebra of $\der(A)$ (cf. lemma \ref{lemma: yangian_div_zero_vector_fields_basic_properties}), the above defines an action:
                $$\rho: \divzero \to \der(\toroidal)$$
            as well.
        \end{lemma}
            \begin{proof}
                The first assertion is trivial.
                
                To prove the second assertion, let us begin by recalling from definition \ref{def: kahler_differentials} that:
                    $$\Omega^1_{A/\bbC} \cong A^{\tensor 2}/I$$
                where $I := \< \forall f, g \in A: fg \tensor 1 - f \tensor g - g \tensor f \>$, and from remark \ref{remark: differentials_and_derivations} that:
                    $$d(A) \cong A \tensor 1$$
                Because any $D \in \der(A)$ is \textit{a priori} a linear endomorphism of $A$, meaning that:
                    $$D \cdot A \subseteq A$$
                for all $D \in \der(A)$, and because there is a containment of vector spaces $A \tensor 1 \supset I$ (cf. remark \ref{remark: cyclic_1_form_well_definiteness}), we see thus that:
                    $$D \cdot d(A) \cong D \cdot (A \tensor 1) \subseteq A \tensor 1$$
                Let us now take for granted the well-known fact that $\der(A)$ acts on $\Omega^1_{A/\bbC}$ by Lie derivatives, i.e.:
                    $$D \cdot gdf = D(g) df + g d(D(f))$$
                for all $D \in \der(A)$ and all $f, g \in A$, and hence as Lie derivations on the abelian Lie algebra with underlying vector space $\Omega^1_{A/\bbC}$\footnote{This works much more generally, namely if $R$ is a commutative ring and $S$ is a commutative $R$-algebra, then $\der_R(S)$ shall act on $\Omega^1_{S/R}$ by Lie derivatives, i.e. for all $D \in \der_R(S)$ and all $g df \in \Omega^1_{S/R}$ (for any $f, g \in S$), the action is given by $D \cdot g df := D(g) df + g d(D(f))$. We leave it to the reader to check that the Leibniz rule in the sense of definition \ref{def: lie_derivations} holds.}. The consequence of this fact that is of interest to us is that:
                    $$D \cdot (A^{\tensor 2}/I) \subseteq A^{\tensor 2}/I$$
                for all $D \in \der(A)$, which together with the previous observation, implies that:
                    $$D \cdot \z(\toroidal) \cong D \cdot ( \Omega^1_{A/\bbC}/d(A) ) \cong D \cdot \frac{A^{\tensor}/I}{A \tensor 1} \subset \frac{A^{\tensor}/I}{A \tensor 1} \cong \z(\toroidal)$$
                for all $D \in \der(A)$. As such, there exists a well-defined action:
                    $$\rho: \der(A) \to \der(\toroidal)$$
                given by:
                    $$\rho( g\bar{d}f ) := D(g) \bar{d}f + g \bar{d}(D(f))$$
                for all $D \in \der(A)$ and all $f, g \in A$.
            \end{proof}
        \begin{remark}
            Note that the action $\rho: \divzero \to \der(\toroidal)$ does \textit{not} depend on the residue form $\gamma: A \to \bbC$.
        \end{remark}
            
        Lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action} allows us to form the semi-direct product:
            $$\toroidal \rtimes \divzero$$
        (cf. example \ref{example: lie_algebra_semi_direct_products}), which prompts the content of our main result concerning $\gamma$-extended toroidal Lie algebras.
        \begin{convention}[The underlying vector space of $\gamma$-extended toroidal Lie algebras]
            Henceforth, we will be writing:
                $$\extendedtoroidal := \toroidal \oplus \divzero$$
            The non-degenerate bilinear form on this vector space that was constructed in corollary \ref{coro: pairing_yangian_div_zero_vector_fields_and_cyclic_1_forms} shall therefore be denoted by:
                $$(-, -)_{\extendedtoroidal}$$
            and as a small abuse of notation, for any isomorphism of vector spaces:
                $$\mu: \extendedtoroidal \xrightarrow[]{\cong} \fraky$$
            we shall be using the same notation to speak of the bilinear form $\mu \circ (-, -)_{\extendedtoroidal} \circ (\mu^{-1})^{\tensor 2}$ on $\fraky$. 
        \end{convention}
        The statement of the main theorem is as follows:
        \begin{theorem} \label{theorem: yangian_extended_toroidal_lie_algebras_main_theorem}
            A Lie algebra $(\fraky, [-, -]_{\fraky})$ is a \textbf{$\gamma$-extended toroidal Lie algebra} in the sense of definition \ref{def: yangian_extended_toroidal_lie_algebras} if and only if there exists some Lie $2$-cocycle\footnote{See definitions \ref{def: twisted_semi_direct_products} and \ref{def: lie_cocycles_and_coboundaries}.} $\sigma \in Z^2_{\Lie}(\divzero, \z(\toroidal))$ such that there is a Lie algebra isomorphism:
                $$\mu: \toroidal \rtimes^{\sigma} \divzero \xrightarrow[]{\cong} \fraky$$
                
            Furthermore, if $\fraky$ is a $\gamma$-extended toroidal Lie algebra, then:
            \begin{enumerate}
                \item a particular Lie algebra isomorphism is:
                    $$\mu = \id_{\toroidal} \oplus \varphi$$
                with $\varphi$ as in proposition \ref{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}, and
                \item $\toroidal$ is a Lie algebra ideal of $\fraky$, and
                \item the action of $\divzero$ on $\toroidal$ is $\rho: \divzero \to \der(\toroidal)$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}, and thus independent of $\sigma$.
            \end{enumerate}
        \end{theorem}
        \begin{remark}
            \todo[inline]{Comment about our terminology and how it differs from the notion of EALAs of nullity $2$ by Neher et al.}
        \end{remark}
    
    \subsection{Outline of the proof}
        Our proof of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_main_theorem} shall be split into two main steps, namely the proofs of the \say{if} and the \say{only if} implications therein, respectively.
        \begin{itemize}
            \item Let us discuss firstly the proof of the \say{if} direction, the content of subsection \ref{subsection: which_twisted_semi_direct_products_are_yangian_extended_toroidal_lie_algebras}.
            \begin{enumerate}
                \item After some trivial reduction, one shall see that in fact, the most non-trivial thing to prove is that the semi-direct product:
                    $$\toroidal \rtimes \divzero$$
                (well-defined now, thanks to lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}) is an instance of a $\gamma$-extended toroidal Lie algebra, and this will be achieved through lemma \ref{lemma: semi_direct_product_of_toroidal_lie_algebras_with_div_zero_vector_fields_are_yangian_extended_toroidal_lie_algebras}. \item Using this, we will then give a criterion on a given Lie $2$-cocycle:
                    $$\sigma \in Z^2_{\Lie}(\divzero, \z(\toroidal))$$
                so that the correpsonding twisted semi-direct product:
                    $$\toroidal \rtimes^{\sigma} \divzero$$
                is a $\gamma$-extended toroidal Lie algebra. Namely, this condition is that:
                    $$( \sigma(D, D'), D'' )_{\extendedtoroidal} = ( D, \sigma(D', D'') )_{\extendedtoroidal}$$
                (cf. proposition \ref{proposition: twisted_semi_direct_products_are_yangian_extended_toroidal_lie_algebras}). This will conclude the proof.
            \end{enumerate}
            \item In the \say{only if} direction, the proof - which shall occupy subsection \ref{subsection: yangian_extended_toroidal_lie_algebras_are_twisted_semi_direct_products} - is more involved and somehow much less \say{routine}. Broadly, our strategy is to make use of proposition \ref{prop: twisted_semi_direct_product_criterion}, which requires two inputs:
            \begin{itemize}
                \item given any $\gamma$-extended toroidal Lie algebra structure $[-, -]_{\extendedtoroidal}$ on $\extendedtoroidal$, the $\divzero$-action $\rho: \divzero \to \der(\toroidal)$ constructed in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action} shall then satisfy:
                    $$[D, X]_{\extendedtoroidal} = \rho(D)(X)$$
                for all $D \in \divzero$ and all $X \in \toroidal$;
                \item in equipping the vector space $\extendedtoroidal := \toroidal \oplus \divzero$ with the Lie bracket $[-, -]_{\extendedtoroidal}$ as above, one shall obtain a Lie algebra extension:
                    $$0 \to \toroidal \to \extendedtoroidal \to \divzero \to 0$$
            \end{itemize}
            The following steps - all relying heavily on the fact that $(-, -)_{\extendedtoroidal}$ is invariant with respect to $[-, -]_{\extendedtoroidal}$ - will have to be carried out in sequence:
            \begin{enumerate}
                \item lemma \ref{lemma: derivation_action_on_multiloop_algebras}, which proves that given any $X \in \g_{[2]}$ and $D \in \divzero$, there will exist some yet-to-be-determined $K(X, D) \in \z(\toroidal)$ such that:
                    $$[D, X]_{\extendedtoroidal} = \rho(D)(X) + K(X, D)$$
                and hence:
                    $$[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]} \oplus \z(\toroidal)$$
                \item lemma \ref{lemma: derivation_action_on_toroidal_centres}, which proves that given any $K \in \g_{[2]}$ and $D \in \divzero$, we will have that:
                    $$[D, K]_{\extendedtoroidal} = \rho(D)(K)$$
                and hence:
                    $$[\divzero, \z(\toroidal)]_{\extendedtoroidal} \subseteq \z(\toroidal)$$
                \item proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}, which tells us that for every $D, D' \in \divzero$, there exists an undetermined $K(D, D') \in \z(\toroidal)$ such that:
                    $$[D, D']_{\extendedtoroidal} = [D, D'] + Z(D, D')$$
                and crucially, this will allow us to conclude that the Lie algebra structure $[-, -]_{\extendedtoroidal}$ arises as an extension of $\divzero$ by $\toroidal$ (cf. corollary \ref{coro: yangian_extended_toroidal_lie_algebras_are_extensions});
                \item from proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}, we will also be able to conclude that the $\z(\toroidal)$-summand $K(X, D)$ of the brackets of the form $[D, X]_{\extendedtoroidal}$ (where $D \in \divzero$ and $X \in \g_{[2]}$) necessarily vanish, and from this, one infers that:
                    $$[D, X]_{\extendedtoroidal} = \rho(D)(X)$$
                and hence:
                    $$[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$$
            \end{enumerate}
            We remark that even though the first two steps are, on their own, sufficient for showing that:
                $$[\divzero, \toroidal]_{\extendedtoroidal} \subseteq \toroidal$$
            the fourth step remains necessary. By the construction of the action:
                $$\rho: \divzero \to \der(\toroidal)$$
            one has that:
                $$\rho(D)(\g_{[2]}) \subseteq \g_{[2]}, \rho(D)(\z(\toroidal)) \subseteq \g_{[2]}$$
            for all $D \in \divzero$, or in other words, the $\divzero$-module $\toroidal$ defined by $\rho$ splits into a direct sum of the submodules $\g_{[2]}$ and $\z(\toroidal)$. As such, without knowing that $[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$, we can not conclude that:
                $$[D, \toroidal]_{\extendedtoroidal} = \rho(D) \cdot \toroidal$$
            for all $D \in \divzero$ in order to fulfill the first condition for applying proposition \ref{prop: twisted_semi_direct_product_criterion}, as mentioned above.
        \end{itemize}

    \subsection{Which twisted semi-direct products are \texorpdfstring{$\gamma$}{}-extended toroidal Lie algebras ?} \label{subsection: which_twisted_semi_direct_products_are_yangian_extended_toroidal_lie_algebras}
        \todo[inline]{Proof of the "if" direction of the main theorem. This was not concisely stated before, so most of the materials in this subsection is completely new.}
    
        In this subsection, we prove the \say{if} direction of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_main_theorem}. To this end, let us firstly fix a twisted semi-direct product:
            $$\toroidal \rtimes^{\sigma} \divzero$$
        (whose Lie bracket shall be denoted by $[-, -]_{\sigma}$) such that:
            $$[D, X]_{\sigma} = \rho(D) \cdot X$$
        (for all $X \in \toroidal$ and $D \in \divzero$, and with $\rho: \divzero \to \der(\toroidal)$ being as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action})

        \begin{remark}[What do we need to show ?]
            Obviously, there is a vector space isomorphism between $\toroidal \rtimes^{\sigma} \divzero$ and $\toroidal \oplus \z(\toroidal)^{\star}$, namely:
                $$\id_{\toroidal} \oplus \varphi: \toroidal \rtimes^{\sigma} \divzero \to \toroidal \oplus \z(\toroidal)^{\star}$$
            with $\varphi: \divzero \to \z(\toroidal)$ as in proposition \ref{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}. It is also clear (per definition \ref{def: twisted_semi_direct_products}), that the canonical inclusion of vector spaces $\toroidal \subset \toroidal \rtimes^{\sigma} \divzero$ is a Lie algebra monomorphism. As such, the only thing to prove is that the non-degenerate symmetric bilinear form given by:
                $$(-, -)_{\toroidal} \circ (\id_{\toroidal} \oplus \varphi)^{\tensor 2}$$
            is invariant with respect to the Lie bracket $[-, -]_{\sigma}$.
        \end{remark}

        In accordance with the notations above, let us write $[-, -]_0$ for the bracket on the semi-direct product $\toroidal \rtimes \divzero$.
        \begin{lemma} \label{lemma: semi_direct_product_of_toroidal_lie_algebras_with_div_zero_vector_fields_are_yangian_extended_toroidal_lie_algebras}
            Let $\divzero$ act on $\toroidal$ via $\rho$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}. The semi-direct product $\toroidal \rtimes \divzero$ - corresponding to the $2$-cocycle:
                $$0 \in Z^2_{\Lie}(\divzero, \z(\toroidal))$$
            - is a $\gamma$-extended toroidal Lie algebra in the sense of definition \ref{def: yangian_extended_toroidal_lie_algebras}.
        \end{lemma}
            \begin{proof}
                We would like to show that, for all $Z + D'' \in \toroidal \oplus \divzero$, we shall have that:
                    $$\left( [X + D, Y + D']_0, Z + D'' \right)_{\extendedtoroidal} = \left( X + D, [Y + D', Z + D'']_0 \right)_{\extendedtoroidal}$$
                for all $X, Y, Z \in \toroidal$ and all $D, D', D'' \in \divzero$.
                
                From example \ref{example: lie_algebra_semi_direct_products}, we know that the semi-direct product Lie bracket $[-, -]_0$ is given by:
                    $$[X + D, Y + D']_0 := [X, Y]_{\toroidal} + \rho(D)(Y) - \rho(D')(X) + [D, D']$$
                for all $X, Y \in \toroidal$ and all $D, D' \in \divzero$. Using this, consider the following:
                    $$
                        \begin{aligned}
                            & \left( [X + D, Y + D']_0, Z + D'' \right)_{\extendedtoroidal}
                            \\
                            = & \left( [X, Y]_{\toroidal} + \rho(D)(Y) - \rho(D')(X) + [D, D'], Z + D'' \right)_{\extendedtoroidal}
                            \\
                            = & \left( [X, Y]_{\toroidal}, Z + D'' \right)_{\extendedtoroidal} + \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} + \left( [D, D'], Z + D'' \right)_{\extendedtoroidal}
                            \\
                            = & \left( [X, Y]_{\toroidal}, Z + D'' \right)_{\extendedtoroidal} + \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} + \left( [D, D'], Z \right)_{\extendedtoroidal}
                        \end{aligned}
                    $$
                Similarly, we have that:
                    $$
                        \begin{aligned}
                            & \left( X + D, [Y + D', Z + D'']_0 \right)_{\extendedtoroidal}
                            \\
                            = & \left( X + D, [Y, Z]_{\toroidal} \right)_{\extendedtoroidal} + \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} + \left(X, [D', D'']\right)_{\extendedtoroidal}
                        \end{aligned}
                    $$
                Because $(-, -)_{\extendedtoroidal}|_{\Sym^2 \toroidal} = (-, -)_{\toroidal}$ by construction (cf. proposition \ref{prop: extended_toroidal_bilinear_form}), and because $(-, -)_{\toroidal}$ is invariant (cf. remark \ref{remark: extending_bilinear_forms_to_central_extensions}), we have that:
                    $$([X, Y]_{\toroidal}, Z)_{\extendedtoroidal} = ([X, Y]_{\toroidal}, Z)_{\toroidal} = (X, [Y, Z]_{\toroidal})_{\toroidal} = (X, [Y, Z]_{\toroidal})_{\extendedtoroidal}$$
                and so:
                    $$( [X, Y]_{\toroidal}, Z + D'' )_{\extendedtoroidal} = (X, [Y, Z]_{\toroidal})_{\extendedtoroidal} + ( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal}$$
                and likewise, we have that:
                    $$\left( X + D, [Y, Z]_{\toroidal} \right)_{\extendedtoroidal} = (X, [Y, Z]_{\toroidal})_{\extendedtoroidal} + (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} = (X, [Y, Z]_{\toroidal})_{\extendedtoroidal} + (D, [Y, Z]_{\toroidal})_{\extendedtoroidal}$$
                As such, we have that:
                    $$
                        \begin{aligned}
                            & 
                            \begin{aligned}
                                & \left( \left( [X, Y]_{\toroidal}, Z + D'' \right)_{\extendedtoroidal} + \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} + \left( [D, D'], Z \right)_{\extendedtoroidal} \right)
                                \\
                                - & \left( \left( X + D, [Y, Z]_{\toroidal} \right)_{\extendedtoroidal} + \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} + \left(X, [D', D'']\right)_{\extendedtoroidal} \right)
                            \end{aligned}
                            \\
                            & =
                            \begin{aligned}
                                & \left( ( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal} - (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} \right)
                                \\
                                + & \left( \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} - \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} \right)
                                \\
                                + & \left( \left( [D, D'], Z \right)_{\extendedtoroidal} - \left(X, [D', D'']\right)_{\extendedtoroidal} \right)
                            \end{aligned}
                        \end{aligned}
                    $$
                \textit{We would like to show that this is equal to $0$.}

                Let us now perform a case-by-case analysis.
                \begin{enumerate}
                    \item Firstly, consider the case where $X, Y, Z \in \g_{[2]}$. Without any loss of generality, let us now assume that:
                        $$X := xf, Y := yg, Z := zh$$
                    for some $x, y, z \in \g$ and some $f, g, h \in A$. Per this assumption, we shall have via the fact that $(\g_{[2]}, \divzero)_{\extendedtoroidal} := 0$ that:
                        $$( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal} = (x, y)_{\g} ( g \bar{d}f, D'')_{\extendedtoroidal} = (x, y)_{\g} \varphi(D'')(g \bar{d}f) = (x, y)_{\g} \gamma( g D''(f) )$$
                    and likewise, that:
                        $$(D, [Y, Z]_{\toroidal})_{\extendedtoroidal} = (y, z)_{\g} \gamma( h D(g) )$$
                    At the same time, we have that:
                        $$
                            \begin{aligned}
                                & \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal}
                                \\
                                = & \left( y D(g) - x D'(f), zh + D'' \right)_{\extendedtoroidal}
                                \\
                                = & \left( y D(g) - x D'(f), zh \right)_{\extendedtoroidal}
                                \\
                                = & (y, z)_{\g} \gamma( D(g) h ) - (x, z)_{\g} \gamma( D'(f) h )
                            \end{aligned}
                        $$
                    and likewise, that:
                        $$\left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} = (x, z)_{\g} \gamma( f D'(h) ) - (x, y)_{\g} \gamma( f D''(g) )$$
                    Finally, our assumption that $X, Y, Z \in \g_{[2]}$ implies that:
                        $$([D, D'], Z)_{\extendedtoroidal} = (X, [D', D''])_{\extendedtoroidal} = 0$$
                    By putting everything together, we shall have that:
                        $$
                            \begin{aligned}
                                &
                                    \begin{aligned}
                                    & \left( ( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal} - (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} \right)
                                    \\
                                    + & \left( \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} - \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} \right)
                                    \\
                                    + & \left( \left( [D, D'], Z \right)_{\extendedtoroidal} - \left(X, [D', D'']\right)_{\extendedtoroidal} \right)
                                \end{aligned}
                                \\
                                = & 
                                \begin{aligned}
                                    & \left( (x, y)_{\g} \gamma( g D''(f) ) - (y, z)_{\g} \gamma( h D(g) ) \right)
                                    \\
                                    + & \left( \left( (y, z)_{\g} \gamma( D(g) h ) - (x, z)_{\g} \gamma( D'(f) h ) \right) - \left( (x, z)_{\g} \gamma( f D'(h) ) - (x, y)_{\g} \gamma( f D''(g) ) \right) \right)
                                \end{aligned}
                                \\
                                = & (x, y)_{\g} \gamma( g D''(f) + f D''(g) ) - (x, z)_{\g} \gamma( D'(f) h + f D'(h) ) + (y, z)_{\g} \gamma( D(g) h - h D(g) )
                                \\
                                = & (x, y)_{\g} \gamma( D''(fg) ) - (x, z)_{\g} \gamma( D'(fh) )
                                \\
                                = & 0
                            \end{aligned}
                        $$
                    with the last equality holding because of the definition of $\divzero$, which implies in particular that:
                        $$\gamma( D''(fg) ) = \gamma( D'(fh) ) = 0$$
                    (cf. lemma \ref{lemma: yangian_div_zero_vector_fields_basic_properties}).
                    \item Next, consider the case where $X, Y, Z \in \z(\toroidal)$, and without loss of generality, let us assume that:
                        $$X := f_1\bar{d}g_1, Y := f_2\bar{d}g_2, Z := f_3\bar{d}g_3$$
                    for some $f_i, g_i \in A$ ($i \in \{1, 2, 3\}$). Immediately, we have that:
                        $$[X, Y]_{\toroidal} = [Y, Z]_{\toroidal} = 0$$
                    and so:
                        $$([X, Y]_{\toroidal}, D'')_{\extendedtoroidal} = (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} = 0$$
                    Next, using the fact that $\rho(\z(\toroidal)) \subseteq \z(\toroidal)$ and the fact that $(\z(\toroidal), \z(\toroidal))_{\extendedtoroidal} = 0$, we shall obtain:
                        $$
                            \begin{aligned}
                                & \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal}
                                \\
                                = & \left( \left( D(f_2) \bar{d}g_2 + f_2 \bar{d}( D(g_2) ) \right) - \left( D'(f_1) \bar{d}g_1 + f_1 \bar{d}( D'(g_1) ) \right), D'' \right)_{\extendedtoroidal}
                                \\
                                = & \varphi(D'')\left( \left( D(f_2) \bar{d}g_2 + f_2 \bar{d}( D(g_2) ) \right) - \left( D'(f_1) \bar{d}g_1 + f_1 \bar{d}( D'(g_1) ) \right) \right)
                                \\
                                = & \gamma\left(
                                    \left( D(f_2) D''(g_2) + f_2 D''( D(g_2) ) \right) - \left( D'(f_1) D''(g_1) + f_1 D''( D'(g_1) ) \right)
                                \right)
                            \end{aligned}
                        $$
                    and likewise, that:
                        $$
                            \begin{aligned}
                                & \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal}
                                \\
                                = & \gamma\left(
                                \left( D'(f_3) D(g_3) + f_3 D( D'(g_3) ) \right) - \left( D''(f_2) D(g_2) + f_2 D( D''(g_2) ) \right)
                        \right)
                            \end{aligned}
                        $$
                    We have also that:
                        $$\left( [D, D'], Z \right)_{\extendedtoroidal} = \varphi([D, D'])( f_3 \bar{d} g_3 ) = \gamma(f_3 [D, D'](g_3))$$
                    and likewise, that:
                        $$\left(X, [D', D'']\right) = \gamma(f_1 [D', D''](g_1))$$
                    By putting everything together, we shall get that:
                        $$
                            \begin{aligned}
                                &
                                \begin{aligned}
                                    & \left( ( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal} - (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} \right)
                                    \\
                                    + & \left( \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} - \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} \right)
                                    \\
                                    + & \left( \left( [D, D'], Z \right)_{\extendedtoroidal} - \left(X, [D', D'']\right)_{\extendedtoroidal} \right)
                                \end{aligned}
                                \\
                                = &
                                \begin{aligned}
                                    & 0
                                    \\
                                    + & \gamma\left( \left( D(f_2) D''(g_2) + f_2 D''( D(g_2) ) \right) - \left( D'(f_1) D''(g_1) + f_1 D''( D'(g_1) ) \right) \right)
                                    \\
                                    - & \gamma\left( \left( D'(f_3) D(g_3) + f_3 D( D'(g_3) ) \right) - \left( D''(f_2) D(g_2) + f_2 D( D''(g_2) ) \right) \right)
                                    \\
                                    + & \gamma( f_3 [D, D'](g_3) - f_1 [D', D''](g_1) )
                                \end{aligned}
                                \\
                                = &
                                \begin{aligned}
                                    & -\gamma\left( f_1 D''( D'(g_1) ) + D'(f_1) D''(g_1) + f_1[D', D''](g_1) \right)
                                    \\
                                    + & \gamma\left( D(f_2) D''(g_2) + f_2 D''( D(g_2) ) + D''(f_2) D(g_2) + f_2 D( D''(g_2) ) \right)
                                    \\
                                    - & \gamma\left( D'(f_3) D(g_3) + f_3 D( D'(g_3) ) - f_3 [D, D'](g_3) \right)
                                \end{aligned}
                                \\
                                = &
                                \begin{aligned}
                                    & -\gamma\left( D'(f_1) D''(g_1) + f_1 D' (D''(g_1)) \right)
                                    \\
                                    + & \gamma\left( D(f_2) D''(g_2) + f_2 D( D''(g_2) ) \right) + \gamma( D''(f_2) D(g_2) + f_2 D''( D(g_2) ) )
                                    \\
                                    - & \gamma\left( D'(f_3) D(g_3) + f_3 D'(D(g_3)) \right)
                                \end{aligned}
                                \\
                                = &
                                \begin{aligned}
                                    & -\gamma\left( D'( f_1 D''(g_1) ) \right)
                                    \\
                                    + & \gamma\left( D( f_2 D''(g_2) ) \right) + \gamma\left( D''( f_2 D(g_2) ) \right)
                                    \\
                                    - & \gamma\left( D'( f_3 D(g_3) ) \right)
                                \end{aligned}
                                \\
                                = & 0
                            \end{aligned}
                        $$
                    wherein the last equality holds because of the construction of $\divzero$ (cf. lemma \ref{lemma: yangian_div_zero_vector_fields_basic_properties}).
                \end{enumerate}

                Recall now that, per the construction of the action $\rho: \divzero \to \der(\toroidal)$ (cf. lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}), we know that $\toroidal$ splits into a direct sum of $\divzero$-submodules $\g_{[2]} \oplus \z(\toroidal)$. We see thus that, the case-by-case analysis above is sufficient for concluding that:
                    $$
                        \begin{aligned}
                            & \left( ( [X, Y]_{\toroidal}, D'')_{\extendedtoroidal} - (D, [Y, Z]_{\toroidal})_{\extendedtoroidal} \right)
                            \\
                            + & \left( \left(\rho(D)(Y) - \rho(D')(X), Z + D'' \right)_{\extendedtoroidal} - \left( X + D, \rho(D')(Z) - \rho(D'')(Y) \right)_{\extendedtoroidal} \right)
                            \\
                            + & \left( \left( [D, D'], Z \right)_{\extendedtoroidal} - \left(X, [D', D'']\right)_{\extendedtoroidal} \right)
                        \end{aligned}
                        = 0
                    $$
                As stated above, this is equivalent to that :
                    $$\left( [X + D, Y + D']_0, Z + D'' \right)_{\extendedtoroidal} = \left( X + D, [Y + D', Z + D'']_0 \right)_{\extendedtoroidal}$$
                for all $X, Y, Z \in \toroidal$ and all $D, D', D'' \in \divzero$. This implies that the semi-direct product $\toroidal \rtimes \divzero$ is a $\gamma$-extended toroidal Lie algebra, as claimed.
            \end{proof}
            
        \todo[inline]{Previously a theorem. Changed to a proposition.}
        \begin{proposition}[A $\gamma$-invariance criterion for toroidal $2$-cocycles] \label{proposition: twisted_semi_direct_products_are_yangian_extended_toroidal_lie_algebras}
            Consider a Lie $2$-cocycle $\sigma \in Z^2_{\Lie}(\divzero, \z(\toroidal))$. The corresponding twisted semi-direct product:
                $$\toroidal \rtimes^{\sigma} \divzero$$
            will then be a $\gamma$-extended toroidal Lie algebra if:
                $$(\sigma(D, D'), D'')_{\extendedtoroidal} = (D, \sigma(D', D''))_{\extendedtoroidal}$$
            for all $D, D', D'' \in \divzero$.
        \end{proposition}
            \begin{proof}
                Pick arbitrary elements $X, Y, Z \in \toroidal$ and $D, D', D'' \in \divzero$.
                
                To begin, consider the following:
                    $$
                        \begin{aligned}
                            ([X + D', Y + D'']_{\sigma}, Z + D'')_{\extendedtoroidal} & = ([X + D, Y + D']_0 + \sigma(D, D'), Z)_{\extendedtoroidal}
                            \\
                            & = ([X + D, Y + D']_0, Z + D'')_{\extendedtoroidal} + (\sigma(D, D'), Z + D'')_{\extendedtoroidal}
                            \\
                            & = (X + D, [Y + D', Z + D'']_0)_{\extendedtoroidal} + (\sigma(D, D'), Z + D'')_{\extendedtoroidal}
                            \\
                            & = (X + D, [Y + D', Z + D'']_0)_{\extendedtoroidal} + (\sigma(D, D'), D'')_{\extendedtoroidal}
                        \end{aligned}
                    $$
                where the last equality is becuase $\sigma(D, D') \in \z(\toroidal)$. Similarly, we have that:
                    $$(X + D', [Y + D'', Z + D'']_{\sigma})_{\extendedtoroidal} = ([X + D, Y + D']_0, Z + D'')_{\extendedtoroidal} + (D, \sigma(D', D''))_{\extendedtoroidal}$$
                As lemma \ref{lemma: semi_direct_product_of_toroidal_lie_algebras_with_div_zero_vector_fields_are_yangian_extended_toroidal_lie_algebras} shows, the semi-direct product $\toroidal \rtimes \divzero$ is a $\gamma$-extended toroidal Lie algebra, so we have that:
                    $$(X + D, [Y + D', Z + D'']_0)_{\extendedtoroidal} = ([X + D, Y + D'], Z + D''_0)_{\extendedtoroidal}$$
                We have also assumed:
                    $$(\sigma(D, D'), D'')_{\extendedtoroidal} = (D, \sigma(D', D''))_{\extendedtoroidal}$$
                Together, these two facts imply that:
                    $$([X + D', Y + D'']_{\sigma}, Z + D'')_{\extendedtoroidal} = (X + D', [Y + D'', Z + D'']_{\sigma})_{\extendedtoroidal}$$
                which is precisely what we need so we are done.
            \end{proof}

        We have thus proven the \say{if} implication in theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_main_theorem}.

    \subsection{\texorpdfstring{$\gamma$}{}-extended toroidal Lie algebras are twisted semi-direct products} \label{subsection: yangian_extended_toroidal_lie_algebras_are_twisted_semi_direct_products}
        \todo[inline]{The proof of the "only if" direction of theorem 2.1 in \lstinline{Ch2_revamped} is contained entirely within this subsection.}

        Let us fix a Lie bracket:
            $$[-, -]_{\extendedtoroidal}: \bigwedge^2 \extendedtoroidal \to \extendedtoroidal$$
        on the vector space $\extendedtoroidal := \toroidal \oplus \divzero$. Since we are now proving the \say{only if} direction of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_main_theorem}, let us assume that $(\extendedtoroidal, [-, -]_{\extendedtoroidal})$ is a $\gamma$-extended toroidal Lie algebra. In particular, let us recall from definition \ref{def: yangian_extended_toroidal_lie_algebras} that the bilinear form:
            $$(-, -)_{\extendedtoroidal}$$
        is invariant with respect to $[-, -]_{\extendedtoroidal}$.

        \todo[inline]{Rephrased and reproved that $[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]} \oplus \z(\toroidal)$}
        \begin{lemma}[$\divzero$ acts on $\g_{[2]}$ by derivations] \label{lemma: derivation_action_on_multiloop_algebras}
            For any $D \in \divzero$ and any $x \in \g, f \in A$, we have that:
                $$[D, xf]_{\extendedtoroidal} = \rho(D)(xf) + K( D, xf ) = x D(f) + K( D, xf )$$
            for some yet-unknown $K( D, xf ) \in \z(\toroidal)$ and with $\rho: \divzero \to \der(\toroidal)$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}. As such, we have that:
                $$[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]} \oplus \z(\toroidal)$$
            as of now\footnote{In lemma \ref{lemma: no_polynomial_terms_for_derivation_action_on_multiloop_algebras}, it will be shown that in fact, the $\z(\toroidal)$-summand $K( D, xf )$ vanishes.}.
        \end{lemma}
            \begin{proof}
                Consider firstly the following, for any $D \in \divzero$ and any $x, y \in \g, f, g \in A$:
                    $$( [D, xf]_{\extendedtoroidal}, yg )_{\extendedtoroidal} = ( D, [xy, fg]_{\toroidal} )_{\extendedtoroidal} = (x, y)_{\g} ( D, g\bar{d}f )_{\extendedtoroidal} = (x, y)_{\g} \gamma( g D(f) )$$
                At the same time, we have that:
                    $$( x D(f), yg )_{\extendedtoroidal} = (x, y)_{\g} \gamma( g D(f) )$$
                Clearly, then, we have that:
                    $$( [D, xf]_{\extendedtoroidal}, yg )_{\extendedtoroidal} = ( x D(f), yg )_{\extendedtoroidal}$$
                Since $yg \in \g_{[2]}$ is arbitrary and since $(\z(\toroidal), \g_{[2]})_{\extendedtoroidal} = 0$, the above implies via the non-degeneracy of $(-, -)_{\extendedtoroidal}$ that there exists some $K(D, xf) \in \z(\toroidal)$ such that:
                    $$[D, xf]_{\extendedtoroidal} = x D(f) + K(D, xf) = \rho(D)(xf) + K(D, xf)$$
                with $\rho: \divzero \to \der(\toroidal)$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}.
            \end{proof}

        \todo[inline]{Rewrote the proof that $[\divzero, \z(\toroidal)]_{\extendedtoroidal} = \rho(\divzero) \cdot \z(\toroidal)$. I made no significant changes to the approach, just the wording.}
        \begin{lemma}[$\divzero$ acts on $\z(\toroidal)$ by Lie derivatives] \label{lemma: derivation_action_on_toroidal_centres}
            One has that\footnote{We will be referring to this fact as $\divzero$ (and in fact, $\der(A)$ as well) acting on $\z(\toroidal)$ via Lie derivatives.}:
                $$[D, K]_{\extendedtoroidal} = \rho(D)(K)$$
            for all $D \in \divzero$ and all $K \in \z(\toroidal)$, and with $\rho: \divzero \to \der(\toroidal)$ being the action of $\divzero$ on $\toroidal$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}. In particular, this means that:
                $$[\divzero, \z(\toroidal)]_{\extendedtoroidal} \subseteq \z(\toroidal)$$
        \end{lemma}
            \begin{proof}
                Let $f, g \in A$. Since elements of the form $f \bar{d}g$ span $\z(\toroidal)$ as a vector space (cf. theorem \ref{theorem: kassel_realisation}), it shall suffice to prove that:
                    $$[D, g \bar{d}f]_{\extendedtoroidal} = \rho(D)( g\bar{d}f ) = D(g) \bar{d}f + g \bar{d}(D(f))$$
                for an arbitrary $D \in \divzero$. To this end, let us firstly recall from theorem \ref{theorem: kassel_realisation} that for any $h, h \in \g$ and any $f, g \in A$, one has that:
                    $$[h f, h' g]_{\toroidal} = [h, h']_{\g} fg + (h, h')_{\g} g \bar{d}f$$
                From this, one infers that:
                    $$[D, g \bar{d}f]_{\extendedtoroidal} = [ D, [hf, h' g]_{\toroidal} ]_{\extendedtoroidal}$$
                for any choices of $h, h \in \h$ - which gives $[h, h']_{\g} = 0$, since the Cartan subalgebra $\h \subseteq \g$ is abelian (cf. subsection \ref{subsection: finite_dimensional_simple_lie_algebras}) - such that $(h, h')_{\g} = 1$. Then, by exploiting the Jacobi identity, we shall get the following equalities for all $D \in \divzero$:
                    $$
                        \begin{aligned}
                            & [D, g \bar{d}f]_{\extendedtoroidal}
                            \\
                            = & [ D, [h f, h' g]_{\toroidal} ]_{\extendedtoroidal}
                            \\
                            = & [ h f, [D, h' g]_{\extendedtoroidal} ]_{\toroidal} + [ [D, h f]_{\extendedtoroidal}, h' g ]_{\toroidal}
                            \\
                            = & [ h f, h' D( g ) ]_{\toroidal} + [ h D( f ), h' g ]_{\toroidal}
                            \\
                            = & D(g) \bar{d}f + g \bar{d}(D(f))
                            \\
                            = & \rho(D)( g \bar{d}f )
                        \end{aligned}
                    $$
                which is precisely as we wanted, so we are done. 
            \end{proof}
        \begin{corollary}[Toroidal Lie algebras are ideals] \label{coro: toroidal_lie_algebras_are_ideals}
            With respect to the bracket $[-, -]_{\extendedtoroidal}$, the vector subspace $\toroidal$ is actually a Lie ideal of $\extendedtoroidal$.
        \end{corollary}

        Finally, let us investigate how the brackets of the form:
            $$[D, D']_{\extendedtoroidal}$$
        are given, for all $D, D' \in \divzero$.
        \todo[inline]{Rewrote statement of the proposition that $[\divzero, \divzero]_{\extendedtoroidal} \subseteq \divzero \oplus \z(\toroidal)$. Fixed some minor typos.}
        \begin{proposition}[How does $\divzero$ act on itself] \label{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}
            For any $D, D' \in \divzero$, one has that:
                $$[D, D']_{\extendedtoroidal} = [D, D'] + Z(D, D')$$
            (where $[D, D'] := DD' - D'D$ is the usual commutator) for some $Z(D, D') \in \z(\toroidal)$ which does not vanish in general. As a result, one sees that:
                $$[\divzero, \divzero]_{\extendedtoroidal} \subseteq \divzero \oplus \z(\toroidal)$$
        \end{proposition}
            \begin{proof}
                For convenience, we will be abbreviating $\h_{[2]} := \h[v^{\pm}, t^{\pm 1}]$ and $\n^{\pm}_{[2]} := \n^{\pm}[v^{\pm}, t^{\pm 1}]$, with $\n^{\pm} := \bigoplus_{\alpha \in \Phi^{\pm}} \g_{\alpha}$ being the direct sums of the positive/negative roots spaces of $\g$, as usual.
            
                Pick arbitrary elements $D, D' \in \divzero$ and set:
                    $$[D, D']_{\extendedtoroidal} := X(D, D') + Z(D, D') + \xi(D, D')$$
                for some $X(D, D') \in \g_{[2]}, Z(D, D') \in \z(\toroidal)$, and $\xi(D, D') \in \divzero$ depending on $D, D'$. Pick also a test element $y g \in \g_{[2]}$, for some arbitrary $y \in \g$ and $g \in A$ and set:
                    $$[D, y g]_{\extendedtoroidal} := y D( g ) + K(D, Y)$$
                    $$[D', y g]_{\extendedtoroidal} := y D'( g ) + K(D', Y)$$
                for some $K(D, Y) \in \z(\toroidal)$ depending on $Y$ (cf. lemma \ref{lemma: derivation_action_on_multiloop_algebras}).
                
                Via the Jacobi identity, we get that:
                    $$
                        \begin{aligned}
                            & [ [D, D']_{\extendedtoroidal}, y g ]_{\extendedtoroidal}
                            \\
                            = & [ D, [ D', y g ]_{\extendedtoroidal} ]_{\extendedtoroidal} + [ D', [ y g, D ]_{\extendedtoroidal} ]_{\extendedtoroidal}
                            \\
                            = & [ D, y D'( g ) + K(D', Y) ]_{\extendedtoroidal} - [ D', y D( g ) + K(D, Y) ]_{\extendedtoroidal}
                            \\
                            = & \left( y D( D'(g) ) + K(DD', Y) + [ D, K(D', Y) ]_{\extendedtoroidal} \right) - \left( y D'( D(g) ) + K(D'D, Y) + [ D', K(D, Y) ]_{\extendedtoroidal} \right)
                            \\
                            = & y (DD' - D'D)( g ) + ( K(DD', Y) - K(D'D, Y) ) + ( [ D, K(D', Y) ]_{\extendedtoroidal} - [ D', K(D, Y) ]_{\extendedtoroidal} )
                        \end{aligned}
                    $$
                for some $K(DD', Y), K(D'D, Y) \in \z(\toroidal)$ such that:
                    $$[ D, y D'( g ) ]_{\extendedtoroidal} := y D( D'( g ) ) + K(DD', Y)$$
                    $$[ D', y D( g ) ]_{\extendedtoroidal} := y D( D'( g ) ) + K(D'D, Y)$$
                At the same time, we have that:
                    $$
                        \begin{aligned}
                            & [ [D, D']_{\extendedtoroidal}, y g ]_{\extendedtoroidal}
                            \\
                            = & [ X(D, D') + Z(D, D') + \xi(D, D') , y g ]_{\extendedtoroidal}
                            \\
                            = & [ X(D, D') + \xi(D, D') , y g ]_{\extendedtoroidal}
                            \\
                            = & [ X(D, D') , y g ]_{\extendedtoroidal} + \left( y \xi(D, D')(g) + K(\xi(D, D'), Y) \right)
                        \end{aligned}
                    $$
                wherein the second equality holds thanks to the fact that $[\z(\toroidal), \g_{[2]}]_{\extendedtoroidal} = 0$, and $K(\xi(D, D'), Y) \in \z(\toroidal)$ is some element (cf. lemma \ref{lemma: derivation_action_on_multiloop_algebras}). Combining the two observations together then yields:
                    $$
                        \begin{aligned}
                            & [ X(D, D') , y g ]_{\extendedtoroidal} + \left( y \xi(D, D')(g) + K(\xi(D, D'), Y) \right)
                            \\
                            = & y (DD' - D'D)( g ) + ( K(DD', Y) - K(D'D, Y) ) + ( [ D, K(D', Y) ]_{\extendedtoroidal} - [ D', K(D, Y) ]_{\extendedtoroidal} )
                        \end{aligned}
                    $$
                There exists $K_{X(D, D'), Y} \in \z(\toroidal)$ such that:
                    $$[ X(D, D') , y g ]_{\extendedtoroidal} = [ X(D, D') , Y ]_{\extendedtoroidal} = [X(D, D'), Y]_{\g_{[2]}} + K_{X(D, D'), Y}$$
                using which we can write:
                    $$
                        \begin{aligned}
                            & [X(D, D'), Y]_{\g_{[2]}} - y \left( ( DD' - D'D) - \xi(D, D') \right)( g )
                            \\
                            = & \left( [ D, K(D', Y) ]_{\extendedtoroidal} - [ D', K(D, Y) ]_{\extendedtoroidal} \right) - \left( K_{X(D, D'), Y} + K(\xi(D, D'), Y) \right)
                        \end{aligned}
                    $$
                    
                We note right away that the LHS lies entirely in $\g_{[2]}$, whereas the RHS is an element of $\z(\toroidal)$ due to the fact that $[\divzero, \z(\toroidal)]_{\extendedtoroidal} \subseteq \z(\toroidal)$ (cf. lemma \ref{lemma: derivation_action_on_toroidal_centres}), which tells us that $[ D, K(D', Y) ]_{\extendedtoroidal}, [ D', K(D, Y) ]_{\extendedtoroidal} \in \z(\toroidal)$ in particular. Because $\g_{[2]}$ is centreless (as $\g$ is simple and the Lie bracket on $\g_{[2]}$ is given by extension of scalars), this observation subsequently implies that the LHS must vanish, i.e.:
                    $$[X(D, D'), Y]_{\g_{[2]}} - y \left( ( DD' - D'D) - \xi(D, D') \right)( g ) = 0$$
                Because we have by construction that:
                    $$DD' - D'D - \xi(D, D') \in \divzero$$
                we now make the following claim: \textit{if we fix some arbitrary $E \in \g_{[2]}$ and some $P \in \divzero$ then:}
                    $$\forall H := h \varphi \in \g_{[2]}: [E, H]_{\g_{[2]}} = h P( \varphi ) \implies E = 0$$

                Using the root space decomposition for $\g$ (cf. theorem \ref{theorem: root_space_decomposition_for_finite_dimensional_simple_lie_algebras}), we see that if $h \in \h$ then we then will have that $[E, H]_{\g_{[2]}} \in \n^{\pm}_{[2]}$, but at the same time, that $h P(\varphi) \in \h_{[2]}$. The only way for this to be true is that $[E, H]_{\g_{[2]}} = 0$, which is the case if and only if $E = 0$. If $h \in \n^{\pm}$, then $[E, H]_{\g_{[2]}} \in \n^{\pm}_{[2]} \oplus \h_{[2]}$ and the $\h_{[2]}$-summand will be non-zero in general; at the same time, $h P(\varphi) \in \n^{\pm}_{[2]}$ in this case, and again, the only way for these to facts to be true simultaneously is that $E = 0$ necessarily. 

                Apply the claim to the fact that:
                    $$[X(D, D'), Y]_{\g_{[2]}} = y \left( ( DD' - D'D) - \xi(D, D') \right)( g )$$
                - and again, note that $( DD' - D'D) - \xi(D, D') \in \divzero$ - then yields:
                    $$X(D, D') = 0$$
                precisely as desired. 
            \end{proof}
        \begin{corollary}[$\gamma$-extended toroidal Lie algebras are extensions] \label{coro: yangian_extended_toroidal_lie_algebras_are_extensions}
            When endowed with a Lie bracket, $\extendedtoroidal$ is necessarily a Lie algebra extension of $\divzero$ by $\divzero$.
        \end{corollary}
            \begin{proof}
                We know from corollary \ref{coro: toroidal_lie_algebras_are_ideals} that $\toroidal$ is a Lie ideal of $\extendedtoroidal$, and that there is a canonical surjective map $\pi: \extendedtoroidal \to \divzero$ such that $\pi([D, D']_{\extendedtoroidal}) = [D, D']$ with the RHS denoting the usual commutator $DD' - D'D$. As such, we have a short exact sequence of Lie algebras:
                    $$0 \to \toroidal \to \extendedtoroidal \to \divzero \to 0$$
                i.e. an extension.
            \end{proof}
            
        \todo[inline]{Rephrased the statement of the fact that $[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$. Previously a corollary of proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}.}
        \begin{lemma}[\texorpdfstring{$\z(\toroidal)$}{}-summands of elements of \texorpdfstring{$[\divzero, \g_{[2]}]_{\extendedtoroidal}$}{}] \label{lemma: no_polynomial_terms_for_derivation_action_on_multiloop_algebras}
            For any $x \in \g, f \in A$ and any $D \in \divzero$, we have that:
                $$[D, xf]_{\extendedtoroidal} = x D(f) = \rho(D)(xf)$$
            with $\rho: \divzero \to \der(\toroidal)$ as in lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}. Consequently one has that:
                $$[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$$
        \end{lemma}
            \begin{proof}
                From lemma \ref{lemma: derivation_action_on_multiloop_algebras}, we know that given some $D \in \divzero$ and some $x \in \g$ and $f \in A$, there shall exist $K(D, xf) \in \z(\toroidal)$ (depending on the choices of $D$ and $x, f$) such that:
                    $$[D, xf]_{\extendedtoroidal} = x D(f) + K(D, xf)$$
                Next, consider the following:
                    $$( \divzero, x D(f) + K(D, xf) )_{\extendedtoroidal} = ( \divzero, [D, xf]_{\extendedtoroidal} )_{\extendedtoroidal} = ( [\divzero, D]_{\extendedtoroidal}, xf )_{\extendedtoroidal} = 0$$
                where the second equality holds thanks to invariance, and the third equality holds due to a combination of the fact that $[\divzero, \divzero]_{\extendedtoroidal} \subset \z(\toroidal) \oplus \divzero$ (cf. proposition \ref{prop: lie_bracket_on_orthogonal_complement_of_toroidal_centre}) and the fact that $(\z(\toroidal) \oplus \divzero, \g_{[2]})_{\extendedtoroidal} = 0$ per the construction of the bilinear form $(-, -)_{\extendedtoroidal}$. We also have the following, again per the construction of the bilinear form $(-, -)_{\extendedtoroidal}$:
                    $$( \divzero, x D(f) + K(D, xf) )_{\extendedtoroidal} = ( \divzero, K(D, xf) )_{\extendedtoroidal}$$
                This implies that:
                    $$( \divzero, K(D, xf) )_{\extendedtoroidal} = 0$$
                for all $D \in \divzero$ and all $x \in \g, f \in A$. The fact that $( \divzero, \z(\toroidal) )_{\extendedtoroidal} \not = 0$ along with the non-degeneracy of $(-, -)_{\extendedtoroidal}$ then imply together that:
                    $$K(D, xf) = 0$$
                necessarily. This means that, indeed, we have that:
                    $$[D, xf]_{\extendedtoroidal} = x D(f)$$
                for all $D \in \divzero$ and all $x \in \g$ and all $f \in A$. Since $\g_{[2]}$ is generated by elements of the form $xf$, this implies that:
                    $$[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$$
                as claimed. 
            \end{proof}
        \begin{corollary} \label{coro: toroidal_lie_algebras_are_not_simple_modules_over_yangian_div_zero_vector_fields}
            One has that:
                $$[\divzero, \toroidal]_{\extendedtoroidal} \cong [\divzero, \g_{[2]}]_{\extendedtoroidal} \oplus [\divzero, \z(\toroidal)]_{\extendedtoroidal}$$
        \end{corollary}
            \begin{proof}
                Combine lemmas \ref{lemma: derivation_action_on_multiloop_algebras}, \ref{lemma: derivation_action_on_toroidal_centres}, and \ref{lemma: no_polynomial_terms_for_derivation_action_on_multiloop_algebras}.
            \end{proof}

        \todo[inline]{Relocated the result that $[\divzero, \toroidal]_{\extendedtoroidal} = \rho(\divzero) \cdot \toroidal$. Previously I thought this was obtained before showing that $[\divzero, \divzero]_{\extendedtoroidal} \subset \divzero \oplus \z(\toroidal)$, but now I think that it requires us knowing that $[\divzero, \g_{[2]}]_{\extendedtoroidal} \subseteq \g_{[2]}$, which requires the aforementioned fact.}
        We have now yielded the following intermediate conclusion:
        \begin{proposition}[$\toroidal$ as a $\divzero$-module] \label{prop: toroidal_lie_algebras_as_modules_over_div_zero_vector_field_lie_algebras}
            The $\divzero$-module structure:
                $$\rho: \divzero \to \der(\toroidal)$$
            satisfies:
                $$[D, X]_{\extendedtoroidal} = \rho(D)(X)$$
            for all $D \in \divzero$ and all $X \in \toroidal$, regardless of our choice of the Lie bracket $[-, -]_{\extendedtoroidal}$ on the vector space $\extendedtoroidal$.
        \end{proposition}
            \begin{proof}
                Combine corollary \ref{coro: toroidal_lie_algebras_are_not_simple_modules_over_yangian_div_zero_vector_fields} with lemma \ref{lemma: a_fixed_yangian_div_zero_vector_field_action}.
            \end{proof}
            
        We have thus obtained the following result:
        \begin{proposition}[$\gamma$-extended toroidal Lie algebras are twisted semi-direct products] \label{prop: yangian_extended_toroidal_lie_algebras}
            If $\fraky$ is a $\gamma$-extended toroidal Lie algebra in the sense of definition \ref{def: yangian_extended_toroidal_lie_algebras}, then there will exist some Lie $2$-cocycle $\sigma \in Z^2_{\Lie}(\divzero, \z(\toroidal))$ so that:
                $$\toroidal \rtimes^{\sigma} \divzero \xrightarrow[\cong]{\id_{\toroidal} \oplus \varphi} \fraky$$
            where $\varphi: \divzero \xrightarrow[]{\cong} \z(\toroidal)^{\star}$ being as in proposition \ref{prop: yangian_div_zero_vector_fields_are_graded_dual_to_toroidal_centre}.
        \end{proposition}
            \begin{proof}
                Combine proposition \ref{prop: toroidal_lie_algebras_as_modules_over_div_zero_vector_field_lie_algebras} with corollary \ref{coro: yangian_extended_toroidal_lie_algebras_are_extensions}, and then apply proposition \ref{prop: twisted_semi_direct_product_criterion}.
            \end{proof}
        \begin{corollary} \label{coro: yangian_cocycle_invariance}
            If $\fraky \cong \toroidal \rtimes^{\sigma} \divzero$ is a $\gamma$-extended toroidal Lie algebra (corresponding to some $2$-cocycle $\sigma \in Z^2_{\Lie}(\divzero, \z(\toroidal))$), then:
                $$(\sigma(D, D'), D'')_{\extendedtoroidal} = (D, \sigma(D', D''))_{\extendedtoroidal}$$
            for all $D, D', D'' \in \divzero$.
        \end{corollary}
            \begin{proof}
                Per definition \ref{def: twisted_semi_direct_products}, we know that:
                    $$\sigma(\xi, \xi') = [\xi, \xi']_{\fraky} - [\xi, \xi]$$
                for all $\xi, \xi' \in \divzero$, meaning that we have that:
                    $$
                        \begin{aligned}
                            (\sigma(D, D'), D'')_{\extendedtoroidal} & = ([D, D]_{\fraky} - [D, D'], D'')_{\extendedtoroidal}
                            \\
                            & = ([D, D]_{\fraky}, D'')_{\extendedtoroidal} 
                            \\
                            & = (D, [D', D'']_{\fraky})
                            \\
                            & = (D, [D', D'']_{\fraky} - [D', D''])_{\extendedtoroidal}
                            \\
                            & = (D, \sigma(D', D''))_{\extendedtoroidal}
                        \end{aligned}
                    $$
                which is precisely as needed.
            \end{proof}

        Together, propositions \ref{prop: yangian_extended_toroidal_lie_algebras} and \ref{prop: yangian_cocycle_invariance} imply the \say{only if} direction of theorem \ref{theorem: yangian_extended_toroidal_lie_algebras_main_theorem}.